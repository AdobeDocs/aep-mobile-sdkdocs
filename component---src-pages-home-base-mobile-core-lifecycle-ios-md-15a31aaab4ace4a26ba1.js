"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[6568],{68001:function(e,a,n){n.r(a),n.d(a,{_frontmatter:function(){return s},default:function(){return p}});var i=n(87462),r=n(63366),t=(n(15007),n(64983)),o=n(91515),l=["components"],s={},c={_frontmatter:s},d=o.Z;function p(e){var a=e.components,n=(0,r.Z)(e,l);return(0,t.mdx)(d,(0,i.Z)({},c,n,{components:a,mdxType:"MDXLayout"}),(0,t.mdx)("h1",{id:"lifecycle-extension-in-ios"},"Lifecycle extension in iOS"),(0,t.mdx)("h2",{id:"implementing-lifecycle-data-collection-in-ios"},"Implementing Lifecycle data collection in iOS"),(0,t.mdx)("p",null,"For implementation details, please reference the ",(0,t.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/lifecycle/index.md"},"implementation guide for Lifecycle"),"."),(0,t.mdx)("h2",{id:"tracking-app-crashes-in-ios"},"Tracking app crashes in iOS"),(0,t.mdx)("p",null,"This information helps you understand how crashes are tracked and the best practices to handle false crashes."),(0,t.mdx)("h3",{id:"how-does-crash-reporting-work"},"How does crash reporting work?"),(0,t.mdx)("p",null,"When Lifecycle data collection is implemented in an application, pausing Lifecycle data collection sets a flag which is persisted in the application. When the application is launched again and Lifecycle data collection is started, if the flag is ",(0,t.mdx)("strong",{parentName:"p"},"not")," set then a crash event is reported."),(0,t.mdx)("p",null,"The flag is controlled by calls to ",(0,t.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/lifecycle/api-reference.md#lifecyclepause"},"lifecyclePause")," (which sets the flag) and ",(0,t.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/lifecycle/api-reference.md#lifecyclestart"},"lifecycleStart")," (which clears the flag)."),(0,t.mdx)("h3",{id:"why-does-adobe-measure-crashes-this-way"},"Why does Adobe measure crashes this way?"),(0,t.mdx)("p",null,'This approach of measuring crashes provides a high-level answer to the question, "Did the user exit my app intentionally?"'),(0,t.mdx)("p",null,"Crash reporting libraries provided by companies such as Apteligent (formerly Crittercism) use a global ",(0,t.mdx)("inlineCode",{parentName:"p"},"NSException")," handler to provide more detailed crash reporting. Your app is not allowed to have more than one of these kinds of handlers. Adobe decided to not implement a global ",(0,t.mdx)("inlineCode",{parentName:"p"},"NSException")," handler to prevent build errors, knowing that our customers might be using other crash reporting providers."),(0,t.mdx)("h3",{id:"what-can-cause-a-false-crash-to-be-reported"},"What can cause a false crash to be reported?"),(0,t.mdx)("p",null,"The following scenarios are known to falsely cause a crash to be reported by the SDK:"),(0,t.mdx)("ul",null,(0,t.mdx)("li",{parentName:"ul"},"If you are debugging using Xcode, re-launching the app while it is running in the foreground will cause a crash.",(0,t.mdx)("ul",{parentName:"li"},(0,t.mdx)("li",{parentName:"ul"},"You can avoid a crash in this scenario by backgrounding the app prior to re-launching the app from Xcode."))),(0,t.mdx)("li",{parentName:"ul"},"If your app is launched in the background because of an enabled background capability (e.g. - background fetch, location update), then ",(0,t.mdx)("inlineCode",{parentName:"li"},"lifecycleStart")," is called and the app never comes to the foreground, the next launch (whether in the background or foreground) will result in a crash."),(0,t.mdx)("li",{parentName:"ul"},"If you programmatically delete Adobe's pause flag from ",(0,t.mdx)("inlineCode",{parentName:"li"},"NSUserDefaults"),", while the app is in the background, the next launch or resume causes a crash.")),(0,t.mdx)("h3",{id:"how-can-i-prevent-false-crashes-from-being-reported"},"How can I prevent false crashes from being reported?"),(0,t.mdx)("p",null,"The following practices can help prevent false crashes from being reported:"),(0,t.mdx)("ul",null,(0,t.mdx)("li",{parentName:"ul"},"Perform your development against non-production report suites to ensure there aren't false crashes from Xcode development."),(0,t.mdx)("li",{parentName:"ul"},"If your app has background capabilities, ensure that you are checking that the app is not in the background prior to calling ",(0,t.mdx)("inlineCode",{parentName:"li"},"lifecycleStart"),"."),(0,t.mdx)("li",{parentName:"ul"},"Do not delete or modify any values that the Experience Platform SDKs puts in ",(0,t.mdx)("inlineCode",{parentName:"li"},"NSUserDefaults"),". If these values are modified outside the SDK, the data reported will be invalid.")),(0,t.mdx)("h2",{id:"further-reading"},"Further reading"),(0,t.mdx)("p",null,"The following guides further illustrate the expected Lifecycle scenarios along with example unexpected scenarios and how to correct them."),(0,t.mdx)("ul",null,(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("a",{parentName:"li",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/lifecycle/behavior-reference.md"},"Lifecycle behavior reference")," when sending Lifecycle events to Analytics."),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("a",{parentName:"li",href:"/aep-mobile-sdkdocs/src/pages/edge/lifecycle-for-edge-network/behavior-reference.md"},"Lifecycle behavior reference")," when sending Lifecycle events to Edge Network.")))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-home-base-mobile-core-lifecycle-ios-md-15a31aaab4ace4a26ba1.js.map