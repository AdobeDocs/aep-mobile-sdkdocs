"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[8215],{7293:function(e,a,i){i.r(a),i.d(a,{_frontmatter:function(){return d},default:function(){return h}});var t,n=i(87462),o=i(63366),r=(i(15007),i(64983)),c=i(91515),s=["components"],d={},l=(t="InlineAlert",function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",e)}),p={_frontmatter:d},m=c.Z;function h(e){var a=e.components,i=(0,o.Z)(e,s);return(0,r.mdx)(m,(0,n.Z)({},p,i,{components:a,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"lifecycle-extension-in-android"},"Lifecycle extension in Android"),(0,r.mdx)("h2",{id:"implementing-lifecycle-data-collection-in-android"},"Implementing Lifecycle data collection in Android"),(0,r.mdx)("p",null,"For implementation details, please reference the ",(0,r.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/lifecycle/index.md"},"implementation guide for Lifecycle"),"."),(0,r.mdx)("h2",{id:"tracking-app-crashes-in-android"},"Tracking app crashes in Android"),(0,r.mdx)("p",null,"This information helps you understand how crashes are tracked and the best practices to handle false crashes."),(0,r.mdx)("h3",{id:"how-does-crash-reporting-work"},"How does crash reporting work?"),(0,r.mdx)("p",null,"When Lifecycle data collection is implemented in an application, pausing Lifecycle data collection sets a flag which is persisted in the application. When the application is launched again and Lifecycle data collection is started, if the flag is ",(0,r.mdx)("strong",{parentName:"p"},"not")," set then a crash event is reported."),(0,r.mdx)("p",null,"The flag is controlled by calls to ",(0,r.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/lifecycle/api-reference.md#lifecyclepause"},"lifecyclePause")," (which sets the flag) and ",(0,r.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/lifecycle/api-reference.md#lifecyclestart"},"lifecycleStart")," (which clears the flag)."),(0,r.mdx)(l,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"To ensure accurate session and crash reporting, you should call ",(0,r.mdx)("inlineCode",{parentName:"p"},"MobileCore.lifecycleStart()")," in the ",(0,r.mdx)("strong",{parentName:"p"},"onResume()")," method of each activity, and ",(0,r.mdx)("inlineCode",{parentName:"p"},"MobileCore.lifecyclePause()")," in the ",(0,r.mdx)("strong",{parentName:"p"},"onPause()")," method of each activity.",(0,r.mdx)("br",null),(0,r.mdx)("br",null),"You should not call Lifecycle start and pause APIs from fragments."),(0,r.mdx)("p",null,"To understand why this is essential, here is an illustration of the Android activity lifecycle:",(0,r.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"652px"}},"\n      ",(0,r.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"108.74999999999999%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,r.mdx)("picture",{parentName:"span"},"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/e30dc92032a4fa0afec3e601408bb0ba/5530d/android-crash.webp 320w","/aep-mobile-sdkdocs/static/e30dc92032a4fa0afec3e601408bb0ba/0c8fb/android-crash.webp 640w","/aep-mobile-sdkdocs/static/e30dc92032a4fa0afec3e601408bb0ba/9a7b5/android-crash.webp 652w"],sizes:"(max-width: 652px) 100vw, 652px",type:"image/webp"}),"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/e30dc92032a4fa0afec3e601408bb0ba/dd4a7/android-crash.png 320w","/aep-mobile-sdkdocs/static/e30dc92032a4fa0afec3e601408bb0ba/0f09e/android-crash.png 640w","/aep-mobile-sdkdocs/static/e30dc92032a4fa0afec3e601408bb0ba/43b96/android-crash.png 652w"],sizes:"(max-width: 652px) 100vw, 652px",type:"image/png"}),"\n          ",(0,r.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/aep-mobile-sdkdocs/static/e30dc92032a4fa0afec3e601408bb0ba/43b96/android-crash.png",alt:"android crash",title:"android crash",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,r.mdx)("p",null,"For more information about the Android activity lifecycle, see ",(0,r.mdx)("a",{parentName:"p",href:"https://developer.android.com/guide/components/activities/"},"Activities"),"."),(0,r.mdx)("p",null,"This Android lifecycle illustration was created and shared by the ",(0,r.mdx)("a",{parentName:"p",href:"https://source.android.com/"},"Android Open Source Project")," and used according to terms in the ",(0,r.mdx)("a",{parentName:"p",href:"https://creativecommons.org/licenses/by/2.5/"},"Creative Commons 2.5 Attribution License"),"."),(0,r.mdx)("h3",{id:"what-can-cause-a-false-crash-to-be-reported"},"What can cause a false crash to be reported?"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"If you are debugging by using an IDE such as Android Studio, and launching the app again from the IDE while the app is in the foreground causes a crash.",(0,r.mdx)("ul",{parentName:"li"},(0,r.mdx)("li",{parentName:"ul"},"You can avoid this crash by backgrounding the app before launching again from the IDE."))),(0,r.mdx)("li",{parentName:"ul"},"If the previous foreground Activity of your app is moved to the background and does not call ",(0,r.mdx)("inlineCode",{parentName:"li"},"MobileCore.lifecyclePause()"),"in ",(0,r.mdx)("inlineCode",{parentName:"li"},"onPause"),", and your app is manually closed or killed by the operating system, the next launch results in a crash.")),(0,r.mdx)("h3",{id:"how-should-fragments-be-handled"},"How should Fragments be handled?"),(0,r.mdx)("p",null,"Fragments have application lifecycle events that are similar to Activities. However, a Fragment cannot be active without being attached to an Activity. Therefore, you should implement the Lifecycle APIs from Activities."),(0,r.mdx)("h2",{id:"further-reading"},"Further reading"),(0,r.mdx)("p",null,"The following guides further illustrate the expected Lifecycle scenarios along with example unexpected scenarios and how to correct them."),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/lifecycle/behavior-reference.md"},"Lifecycle behavior reference")," when sending Lifecycle events to Analytics."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"/aep-mobile-sdkdocs/src/pages/edge/lifecycle-for-edge-network/behavior-reference.md"},"Lifecycle behavior reference")," when sending Lifecycle events to Edge Network.")))}h.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-home-base-mobile-core-lifecycle-android-md-64fedebe96a689bcdc24.js.map