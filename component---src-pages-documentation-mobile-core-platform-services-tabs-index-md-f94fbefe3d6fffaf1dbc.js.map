{"version":3,"file":"component---src-pages-documentation-mobile-core-platform-services-tabs-index-md-f94fbefe3d6fffaf1dbc.js","mappings":"4OAUsBA,E,wEAFTC,EAAe,CAAC,EAOvBC,GALgBF,EAKQ,UALA,SAA6BG,GAEzD,OADAC,QAAQC,KAAK,aAAeL,EAAO,4EAC5B,eAASG,EACjB,GAGKG,EAAc,CAClBL,aAAAA,GAEIM,EAAYC,EAAAA,EACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGP,GACF,YACD,OAAO,SAACI,GAAD,UAAeD,EAAiBH,EAAhC,CAAuCO,WAAYA,EAAYC,QAAQ,eAG5E,SAACT,EAAD,CAASU,SAAS,UAAUC,KAAK,SAASC,OAAO,IAAIH,QAAQ,aAC7D,qBAAK,iBAAMI,WAAW,MAClB,UAAa,iBADZ,0LAOL,SAACb,EAAD,CAASU,SAAS,MAAMC,KAAK,SAASC,OAAO,IAAIH,QAAQ,aACzD,qBAAK,iBAAMI,WAAW,MAClB,UAAa,kBADZ,2IAOL,SAACb,EAAD,CAASU,SAAS,UAAUC,KAAK,WAAWC,OAAO,IAAIH,QAAQ,aAC/D,eACE,GAAM,0DADR,4DAGA,0BAAW,uBAAYI,WAAW,KAAvB,2BAAX,uGAAqL,uBAAYA,WAAW,KAAvB,WAArL,0EAAkT,uBAAYA,WAAW,KAAvB,kBAAlT,qJACA,mBAAG,mBAAQA,WAAW,KAAnB,aACH,6JAA8I,cAAGA,WAAW,IACxJ,KAAQ,sEADkI,qBAA9I,MAGA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,g0GAwGL,kFAAmE,uBAAYA,WAAW,KAAvB,cAAnE,2JAAoR,oBAAI,0EAA2D,uBAAYA,WAAW,KAAvB,gDAA3D,MAA6J,wEAAyD,uBAAYA,WAAW,KAAvB,+CAAzD,QACrb,eACE,GAAM,0CADR,6CAGA,0SACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,oeAgBL,SAACb,EAAD,CAASU,SAAS,MAAMC,KAAK,WAAWC,OAAO,KAAKH,QAAQ,aAC5D,eACE,GAAM,wDADR,0DAGA,0BAAW,uBAAYI,WAAW,KAAvB,8BAAX,yIACA,oBACE,eAAIA,WAAW,OAAK,uBAAYA,WAAW,MAAvB,kBAApB,2IACA,eAAIA,WAAW,OAAK,uBAAYA,WAAW,MAAvB,cAApB,kEAEF,eACE,GAAM,wGADR,0GAGA,mDAAoC,uBAAYA,WAAW,KAAvB,cAApC,qBAA+G,uBAAYA,WAAW,KAAvB,qBAA/G,2BAAuM,uBAAYA,WAAW,KAAvB,qBAAvM,iSAAqiB,uBAAYA,WAAW,KAAvB,sBAAriB,4BACA,eACE,GAAM,WADR,YAGA,6JAA8I,cAAGA,WAAW,IACxJ,KAAQ,kFADkI,6BAA9I,SAE+C,cAAGA,WAAW,IACzD,KAAQ,4EADmC,uBAF/C,MAKA,mBAAG,mBAAQA,WAAW,KAAnB,iBACH,qBAAK,iBAAMA,WAAW,MAClB,UAAa,uBADZ,gpFAkEL,mBAAG,mBAAQA,WAAW,KAAnB,WACH,qBAAK,iBAAMA,WAAW,MAClB,UAAa,kBADZ,ulEAoDL,eACE,GAAM,2DADR,6DAGA,0SACA,eACE,GAAM,aADR,YAGA,mBAAG,mBAAQA,WAAW,KAAnB,iBACH,qBAAK,iBAAMA,WAAW,MAClB,UAAa,uBADZ,+aAgBL,mBAAG,mBAAQA,WAAW,KAAnB,WACH,qBAAK,iBAAMA,WAAW,MAClB,UAAa,kBADZ,gWAgBR,CAEDN,EAAWO,gBAAiB,C","sources":["webpack://dev-site-documentation-template/./src/pages/documentation/mobile-core/platform-services/tabs/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/aep-mobile-sdkdocs/aep-mobile-sdkdocs/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Variant = makeShortcode(\"Variant\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <Variant platform=\"android\" task=\"access\" repeat=\"1\" mdxType=\"Variant\" />\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`import com.adobe.marketing.mobile.services.*;\n\n// Get an instance of the current network service\nNetworking networkService = ServiceProvider.getInstance().getNetworkService();\n`}</code></pre>\n    <Variant platform=\"ios\" task=\"access\" repeat=\"1\" mdxType=\"Variant\" />\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-swift\"\n      }}>{`import AEPServices\n\n// Get an instance of the current network service\nlet networkService = ServiceProvider.shared.networkService\n`}</code></pre>\n    <Variant platform=\"android\" task=\"override\" repeat=\"9\" mdxType=\"Variant\" />\n    <h4 {...{\n      \"id\": \"1-create-custom-httpconnectionperformer-implementation\"\n    }}>{`1. Create custom HTTPConnectionPerformer implementation`}</h4>\n    <p>{`The `}<inlineCode parentName=\"p\">{`HTTPConnectionPerformer`}</inlineCode>{` class is an abstract base class that must be subclassed. This class contains one required method, `}<inlineCode parentName=\"p\">{`connect`}</inlineCode>{`, which must be overridden. Optionally, it's possible to override the `}<inlineCode parentName=\"p\">{`shouldOverride`}</inlineCode>{` method if you want to conditionally override network requests (if you do not override this method, all requests will be overridden by default).`}</p>\n    <p><strong parentName=\"p\">{`Example`}</strong></p>\n    <p>{`This is just an implementation example. For more information about handling network requests correctly in your mobile application, see `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.android.com/reference/java/net/HttpURLConnection\"\n      }}>{`HttpURLConnection`}</a>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`package com.adobe.example;\n\nimport java.io.BufferedOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.Map;\nimport com.adobe.marketing.mobile.AndroidNetworkServiceOverrider.HTTPConnectionPerformer;\nimport com.adobe.marketing.mobile.AndroidNetworkServiceOverrider.Connecting;\n\n// Sample implementation of HTTPConnectionPerformer for AEP SDK Network Override.\nclass SampleHTTPConnectionPerformer extends HTTPConnectionPerformer {        \n  // Modifications here would allow for conditional overriding based on the url/method.\n  // Overriding this method is optional, by default it will always return true (meaning\n  // all network requests should be overridden).\n  @Override\n  public boolean shouldOverride(String url, String method) {\n    return true;\n  }\n\n  // Overriding the connect method is required.  This method must perform a synchronous\n  // (blocking) network request and return an object conforming to the\n  // Connection interface.\n  @Override\n  public Connection connect(String url, String method, byte[] payload, Map<String, String> headers, int connectionTimeoutSeconds, int readTimeoutSeconds) {\n    try {\n      final URL dest = new URL(url);\n      final HttpURLConnection con = (HttpURLConnection) dest.openConnection();\n      con.setReadTimeout(readTimeoutSeconds * 1000);\n      con.setConnectTimeout(connectionTimeoutSeconds * 1000);\n\n      con.setRequestMethod(method);\n\n      for (final Map.Entry<String, String> entry : headers.entrySet()) {\n        con.setRequestProperty(entry.getKey(), entry.getValue());\n      }\n\n      if (method.equals(\"POST\") && payload != null) {\n        con.setDoOutput(true);\n        con.setFixedLengthStreamingMode(payload.length);\n      }\n\n      con.connect();\n\n      if (method.equals(\"POST\") && payload != null) {\n        final OutputStream os = new BufferedOutputStream(con.getOutputStream());\n        os.write(payload);\n        os.flush();\n        os.close();\n      }\n\n      final InputStream inputStream = con.getInputStream();\n      final int responseCode = con.getResponseCode();\n      final String responseMessage = con.getResponseMessage();\n\n      return new AndroidNetworkServiceOverrider.Connection() {\n        @Override\n        public InputStream getInputStream() {\n          return inputStream;\n        }\n\n        @Override\n        public int getResponseCode() {\n          return responseCode;\n        }\n\n        @Override\n        public String getResponseMessage() {\n          return responseMessage;\n        }\n\n        @Override\n        public String getResponsePropertyValue(String responsePropertyKey) {\n          final String responseHeaderValue = con.getHeaderField(responsePropertyKey);\n          return responseHeaderValue;\n        }\n\n        @Override\n        public void close() {\n          if (inputStream != null) {\n            try {\n              inputStream.close();\n            } catch (final Exception ex) {\n            }\n          }\n          con.disconnect();\n        }\n      };\n\n\n    } catch (final MalformedURLException ex) {\n      return CONNECTION_ERROR_URL;\n\n    } catch (final IOException ex) {\n      return CONNECTION_ERROR_IO;\n    }\n  }\n}\n`}</code></pre>\n    <p>{`Your implementation must return an object conforming to the `}<inlineCode parentName=\"p\">{`Connection`}</inlineCode>{` interface when the connection has succeeded. If the connection does not succeed, you will need to return these constants (depending on the scenario): `}<ul><li>{`For all URL parsing / malformed URL issues, return `}<inlineCode parentName=\"p\">{`HTTPConnectionPerformer.CONNECTION_ERROR_URL`}</inlineCode>{`.`}</li><li>{`For any IOExceptions or any other errors, return `}<inlineCode parentName=\"p\">{`HTTPConnectionPerformer.CONNECTION_ERROR_IO`}</inlineCode>{`.`}</li></ul></p>\n    <h4 {...{\n      \"id\": \"2-register-your-interface-with-the-sdk\"\n    }}>{`2. Register your interface with the SDK.`}</h4>\n    <p>{`This step should occur prior to any other interactions with the AEP SDK. While it's possible to register the network override at any point during the application lifecycle, the override will only function for network requests performed after the registration has taken place.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`import com.adobe.marketing.mobile.AndroidNetworkServiceOverrider;\nimport com.adobe.marketing.mobile.MobileCore;\n\npublic void onCreate() {\n    super.onCreate();\n\n  // Register network override prior to making any other calls to the AEP SDK\n  AndroidNetworkServiceOverrider.setHTTPConnectionPerformer(new SampleHTTPConnectionPerformer());\n\n  // First call to AEP SDK\n  MobileCore.setApplication(this);\n  //... continue with initialization / registering extensions.\n}\n`}</code></pre>\n    <Variant platform=\"ios\" task=\"override\" repeat=\"18\" mdxType=\"Variant\" />\n    <h4 {...{\n      \"id\": \"1-conform-to-the-acphttpconnectionperformer-protocol\"\n    }}>{`1. Conform to the ACPHttpConnectionPerformer protocol`}</h4>\n    <p>{`The `}<inlineCode parentName=\"p\">{`ACPHttpConnectionPerformer`}</inlineCode>{` is a protocol which must be conformed to in order to override the network stack. It provides two methods which must be implemented:`}</p>\n    <ol>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`shouldOverride`}</inlineCode>{`, which takes a URL and an HTTP method. Return true if you want the network stack to be overridden by the performer, or false if not. `}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`requestUrl`}</inlineCode>{`, which is the URL request override with a completion block.`}</li>\n    </ol>\n    <h4 {...{\n      \"id\": \"2-create-an-acphttpconnection-and-pass-relevant-data-from-your-nsurlsessiondatatask-completion-block\"\n    }}>{`2. Create an ACPHttpConnection and pass relevant data from your NSURLSessionDataTask completion block`}</h4>\n    <p>{`The completion block for the `}<inlineCode parentName=\"p\">{`requestUrl`}</inlineCode>{` method takes an `}<inlineCode parentName=\"p\">{`ACPHttpConnection`}</inlineCode>{` as its parameter. The `}<inlineCode parentName=\"p\">{`ACPHttpConnection`}</inlineCode>{` is used when overriding the network stack in place of the internal network connection implementation and represents the response to an HTTP request. It is to be created using the NSURLResponse and NSData from your url request response. In the case of a Network Error, or timeout, the `}<inlineCode parentName=\"p\">{`ACPHttpConnection*`}</inlineCode>{` is expected to be nil.`}</p>\n    <h4 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h4>\n    <p>{`This is just an implementation example. For more information about handling network requests correctly in your mobile application, see `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.apple.com/documentation/foundation/nsurlsessionconfiguration\"\n      }}>{`NSURLSessionConfiguration`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.apple.com/documentation/foundation/nsmutableurlrequest\"\n      }}>{`NSMutableURLRequest`}</a>{`.`}</p>\n    <p><strong parentName=\"p\">{`Objective-C`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-objectivec\"\n      }}>{`#import <Foundation/Foundation.h>\n#import \"ACPNetworkServiceOverrider.h\"\n\n@interface SamplePerformerOverrider : NSObject<ACPHttpConnectionPerformer>\n\n@end\n\n@implementation SamplePerformerOverrider {\n    void (^requestUrlCompletion)(ACPHttpConnection*);\n}\n\n  // Modifications here would allow for conditional overriding based on the url/method.\n  // In this example it always returns true to override all network requests.\n- (BOOL) shouldOverride: (NSURL*) url method: (NSString*) method {\n    return true;\n}\n\n    // Network request override with a completion block. The provided parameters should be configured on the network request.\n- (void) requestUrl: (NSURL*) url httpCommand: (NSString*) command connectPayload: (NSString*) payload requestPropertyDict: (NSDictionary<NSString*, NSString*>*) requestProperty connectTimeout: (NSTimeInterval) connectTimeout readTimeout: (NSTimeInterval) readTimeout completion: (void (^) (ACPHttpConnection*)) completion {\n\n    requestUrlCompletion = completion;\n\n    // Create the NSURLSessionConfiguration with the provided timeouts\n    NSURLSessionConfiguration* config = [NSURLSessionConfiguration ephemeralSessionConfiguration];\n    config.URLCache = nil;\n    config.timeoutIntervalForRequest = readTimeout;\n    config.timeoutIntervalForResource = connectTimeout;\n\n    NSURLSession* session = [NSURLSession sessionWithConfiguration:config];\n\n    // Create an NSURLRequest with the provided request parameters\n    NSMutableURLRequest* request = [NSMutableURLRequest new];\n    [request setCachePolicy:NSURLRequestReloadIgnoringLocalCacheData];\n    [request setHTTPMethod:command];\n    [request setURL:url];\n\n      if (payload.length > 0 && [@\"POST\" isEqualToString:[command uppercaseString]]) {\n       [request setHTTPBody:[payload dataUsingEncoding:NSUTF8StringEncoding]];\n    }\n\n    for (NSString *key in requestProperty) {\n        NSString* value = requestProperty[key];\n        [request setValue:value forHTTPHeaderField:key];\n    }\n\n    // Start the request\n    NSURLSessionDataTask* task;\n    task = [session dataTaskWithRequest:request\n                      completionHandler: ^ (NSData * data, NSURLResponse * response, NSError * error) {\n                if(!error) {\n                    NSHTTPURLResponse* httpResponse = (NSHTTPURLResponse*)response;\n\n            // ***** NOTE the creation of the ACPHttpConnection outlined in step 2.*****\n            ACPHttpConnection* connOverride = [[ACPHttpConnection alloc] initWithResponse:httpResponse data:data];\n            completion(connOverride); \n        } else {\n            completion(nil);\n        }\n    }];\n    [task resume];\n}\n\n@end\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Swift`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-swift\"\n      }}>{`import Foundation\nimport ACPCore\n\nclass SamplePerformerOverrider: NSObject, ACPHttpConnectionPerformer {\n\n    // Modifications here would allow for conditional overriding based on the url/method.\n    // In this example it always returns true to override all network requests.\n    func shouldOverride(_ url: URL, method: String) -> Bool {\n      return true\n    }\n\n    // Network request override with a completion block. The provided parameters should be configured on the network request.\n    func request(_ url: URL, httpCommand command: String, connectPayload payload: String, requestPropertyDict requestProperty: [String : String], connectTimeout: TimeInterval, readTimeout: TimeInterval, completion: @escaping (ACPHttpConnection?) -> Void) {\n\n      // Create the URLSessionConfiguration with the provided timeouts\n      let config = URLSessionConfiguration.ephemeral\n      config.urlCache = nil\n      config.timeoutIntervalForRequest = readTimeout\n      config.timeoutIntervalForResource = connectTimeout\n\n      let session = URLSession(configuration: config)\n\n      // Create an NSURLRequest with the provided request parameters\n      let request = NSMutableURLRequest.init(url: url)\n      request.cachePolicy = NSURLRequest.CachePolicy.reloadIgnoringLocalCacheData\n      request.httpMethod = command\n\n      if !payload.isEmpty && \"POST\" == command.uppercased() {\n        request.httpBody = payload.data(using: .utf8)\n      }\n\n      for property in requestProperty {\n        request.setValue(property.value, forHTTPHeaderField: property.key)\n      }\n\n      // Start the request\n      let task = session.dataTask(with: url, completionHandler: { (data, response, error) in\n        if error == nil {\n          let httpResponse = response as? HTTPURLResponse\n          // create ACPHttpConnection object with the data received and call the completion handler\n          let connectionOverride = ACPHttpConnection(response: httpResponse, data: data)\n          completion(connectionOverride)\n        } else {\n          completion(nil)\n        }\n      })\n      task.resume()\n    }\n}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"3-register-your-acphttpconnectionperformer-with-the-sdk\"\n    }}>{`3: Register your ACPHttpConnectionPerformer with the SDK`}</h4>\n    <p>{`This step should occur prior to any other interactions with the AEP SDK. While it's possible to register the network override at any point during the application lifecycle, the override will only function for network requests performed after the registration has taken place.`}</p>\n    <h4 {...{\n      \"id\": \"example-1\"\n    }}>{`Example`}</h4>\n    <p><strong parentName=\"p\">{`Objective-C`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-objectivec\"\n      }}>{`#import \"SamplePerformerOverrider.h\"\n#import \"ACPCore.h\"\n\n@implementation AppDelegate\n\n-(BOOL)application:(UIApplication *)application \ndidFinishLaunchingWithOptions:(NSDictionary<UIApplicationLaunchOptionsKey, id> *)launchOptions {\n        ...\n        [ACPNetworkServiceOverrider setHttpConnectionPerformer:[[SamplePerformerOverrider alloc] init]];\n        ...\n        [ACPCore start:^{\n        ...\n        }];\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Swift`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-swift\"\n      }}>{`import ACPCore\n\n@UIApplicationMain\nclass AppDelegate: UIResponder, UIApplicationDelegate {\n    var window: UIWindow?\n    func applicationDidFinishLaunching(_ application: UIApplication) {\n        ...\n        ACPNetworkServiceOverrider.setHttpConnectionPerformer(SamplePerformerOverrider())\n        ACPCore.start {\n        ...\n        }\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","Variant","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","platform","task","repeat","parentName","isMDXComponent"],"sourceRoot":""}