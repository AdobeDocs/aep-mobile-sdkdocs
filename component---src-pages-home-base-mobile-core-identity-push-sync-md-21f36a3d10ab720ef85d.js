"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[9021],{83744:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return r},default:function(){return b}});var i=a(87462),s=a(63366),n=(a(15007),a(64983)),o=a(91515),d=a(53225),p=["components"],r={},c=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,n.mdx)("div",t)}},l=c("InlineAlert"),m=c("TabsBlock"),h={_frontmatter:r},u=o.Z;function b(e){var t=e.components,a=(0,s.Z)(e,p);return(0,n.mdx)(u,(0,i.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,n.mdx)("h1",{id:"troubleshooting-push-identifier-sync"},"Troubleshooting push identifier sync"),(0,n.mdx)(l,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,n.mdx)("p",null,"This troubleshooting guide requires Adobe Experience Platform Assurance. For more information about access and how to set up Assurance, see the ",(0,n.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/experience-platform/assurance/home.html"},"documentation"),"."),(0,n.mdx)("p",null,"When implementing push messaging via the Adobe Experience Platform Mobile SDK, you can validate the client-side implementation by verifying that you completed the following steps:"),(0,n.mdx)("ol",null,(0,n.mdx)("li",{parentName:"ol"},"Pass the device's push token to the SDK."),(0,n.mdx)("li",{parentName:"ol"},"Verify push token sync with the Experience Cloud Identity service."),(0,n.mdx)("li",{parentName:"ol"},"Ensure user opt-in for push in Adobe Analytics."),(0,n.mdx)("li",{parentName:"ol"},"Confirm user ID is correctly set (and is the same as Steps 2 and 3, above).")),(0,n.mdx)("h2",{id:"pass-the-push-identifier-to-the-sdk"},"Pass the push identifier to the SDK"),(0,n.mdx)("p",null,"The ",(0,n.mdx)("inlineCode",{parentName:"p"},"setPushIdentifier")," API sets the device token for push notifications in the SDK. This results in a few network calls made to the requisite Adobe servers to associate the user with the push token."),(0,n.mdx)(l,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,n.mdx)("p",null,"If SDK privacy status isoptedout, the push identifier will not be set."),(0,n.mdx)("h3",{id:"setpushidentifier"},"setPushIdentifier"),(0,n.mdx)(m,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,n.mdx)("p",null,"Android"),(0,n.mdx)(d.default,{query:"platform=android&task=set-push",mdxType:"Tabs"}),(0,n.mdx)("p",null,"iOS"),(0,n.mdx)(d.default,{query:"platform=ios&task=set-push",mdxType:"Tabs"}),(0,n.mdx)("h2",{id:"verify-push-token-sync-with-the-experience-cloud-identity-service"},"Verify push token sync with the Experience Cloud Identity service"),(0,n.mdx)("p",null,"Launch your app with the device connected to an ",(0,n.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/experience-platform/assurance/home.html"},"Adobe Experience Platform Assurance session"),"."),(0,n.mdx)("p",null,"In the list of events, verify that you have an event with type ",(0,n.mdx)("inlineCode",{parentName:"p"},"SetPushIdentifier"),". In the details panel on the right, verify the value of the push token for this device. The value in ",(0,n.mdx)("inlineCode",{parentName:"p"},"pushIdentifier")," is the same value that is sent to the Adobe servers."),(0,n.mdx)("p",null,(0,n.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,n.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"44.6875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,n.mdx)("picture",{parentName:"span"},"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/af9de721e60b95da6683e1ac6d5cdfde/5530d/set-push-token-to-identity.webp 320w","/aep-mobile-sdkdocs/static/af9de721e60b95da6683e1ac6d5cdfde/0c8fb/set-push-token-to-identity.webp 640w","/aep-mobile-sdkdocs/static/af9de721e60b95da6683e1ac6d5cdfde/94b1e/set-push-token-to-identity.webp 1280w","/aep-mobile-sdkdocs/static/af9de721e60b95da6683e1ac6d5cdfde/64296/set-push-token-to-identity.webp 1600w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/af9de721e60b95da6683e1ac6d5cdfde/dd4a7/set-push-token-to-identity.png 320w","/aep-mobile-sdkdocs/static/af9de721e60b95da6683e1ac6d5cdfde/0f09e/set-push-token-to-identity.png 640w","/aep-mobile-sdkdocs/static/af9de721e60b95da6683e1ac6d5cdfde/bbbf7/set-push-token-to-identity.png 1280w","/aep-mobile-sdkdocs/static/af9de721e60b95da6683e1ac6d5cdfde/42cbc/set-push-token-to-identity.png 1600w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,n.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/aep-mobile-sdkdocs/static/af9de721e60b95da6683e1ac6d5cdfde/bbbf7/set-push-token-to-identity.png",alt:"Verify push identifier received by the SDK",title:"Verify push identifier received by the SDK",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,n.mdx)("h2",{id:"ensure-user-opt-in-for-push-in-adobe-analytics"},"Ensure user opt-in for push in Adobe Analytics"),(0,n.mdx)("p",null,"Launch your app with the device connected to an ",(0,n.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/experience-platform/assurance/home.html"},"Adobe Experience Platform Assurance session"),"."),(0,n.mdx)("p",null,"In the resulting list of events, verify that you have an event with type ",(0,n.mdx)("inlineCode",{parentName:"p"},"AnalyticsForIdentityRequest"),". In the details panel on the right, you can see that there is a value that was sent to Analytics that opts this user in to receive push notifications."),(0,n.mdx)("p",null,(0,n.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,n.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"44.375%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,n.mdx)("picture",{parentName:"span"},"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/00b7d3312b1014a135295eca69b8d344/5530d/push-analytics-optin.webp 320w","/aep-mobile-sdkdocs/static/00b7d3312b1014a135295eca69b8d344/0c8fb/push-analytics-optin.webp 640w","/aep-mobile-sdkdocs/static/00b7d3312b1014a135295eca69b8d344/94b1e/push-analytics-optin.webp 1280w","/aep-mobile-sdkdocs/static/00b7d3312b1014a135295eca69b8d344/64296/push-analytics-optin.webp 1600w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/00b7d3312b1014a135295eca69b8d344/dd4a7/push-analytics-optin.png 320w","/aep-mobile-sdkdocs/static/00b7d3312b1014a135295eca69b8d344/0f09e/push-analytics-optin.png 640w","/aep-mobile-sdkdocs/static/00b7d3312b1014a135295eca69b8d344/bbbf7/push-analytics-optin.png 1280w","/aep-mobile-sdkdocs/static/00b7d3312b1014a135295eca69b8d344/42cbc/push-analytics-optin.png 1600w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,n.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/aep-mobile-sdkdocs/static/00b7d3312b1014a135295eca69b8d344/bbbf7/push-analytics-optin.png",alt:"Verify push preferences are opted in",title:"Verify push preferences are opted in",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,n.mdx)("h2",{id:"confirm-that-the-user-id-is-correctly-set"},"Confirm that the user ID is correctly set"),(0,n.mdx)("p",null,"Launch your app with the device connected to an ",(0,n.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/experience-platform/assurance/home.html"},"Adobe Experience Platform Assurance session"),"."),(0,n.mdx)("p",null,"In the list of events, verify that you have an event with type ",(0,n.mdx)("inlineCode",{parentName:"p"},"UPDATED_IDENTITY_RESPONSE"),". In the details panel on the right, confirm that the following values are correct:"),(0,n.mdx)("ul",null,(0,n.mdx)("li",{parentName:"ul"},"The value for ",(0,n.mdx)("inlineCode",{parentName:"li"},"pushidentifier")," should match the value that was sent in step 2 above."),(0,n.mdx)("li",{parentName:"ul"},"The value for mid should match the value for mid that is sent to Analytics. If you are using a ",(0,n.mdx)("a",{parentName:"li",href:"../../../solution/adobe-analytics/api-reference.md#setidentifier"},"custom visitor identifier"),", this payload should also contain a vid variable with a value that matches the value that was used to identify this user.")),(0,n.mdx)("p",null,(0,n.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,n.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"42.1875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,n.mdx)("picture",{parentName:"span"},"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/a67a44495c210161b89a67026811f2ed/5530d/push-identities.webp 320w","/aep-mobile-sdkdocs/static/a67a44495c210161b89a67026811f2ed/0c8fb/push-identities.webp 640w","/aep-mobile-sdkdocs/static/a67a44495c210161b89a67026811f2ed/94b1e/push-identities.webp 1280w","/aep-mobile-sdkdocs/static/a67a44495c210161b89a67026811f2ed/64296/push-identities.webp 1600w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,n.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/a67a44495c210161b89a67026811f2ed/dd4a7/push-identities.png 320w","/aep-mobile-sdkdocs/static/a67a44495c210161b89a67026811f2ed/0f09e/push-identities.png 640w","/aep-mobile-sdkdocs/static/a67a44495c210161b89a67026811f2ed/bbbf7/push-identities.png 1280w","/aep-mobile-sdkdocs/static/a67a44495c210161b89a67026811f2ed/42cbc/push-identities.png 1600w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,n.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/aep-mobile-sdkdocs/static/a67a44495c210161b89a67026811f2ed/bbbf7/push-identities.png",alt:"Verify push identifier synced",title:"Verify push identifier synced",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,n.mdx)("p",null,"After completing these steps, your app is correctly configured and is ready to send push messages via the SDK and Adobe."))}b.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-home-base-mobile-core-identity-push-sync-md-21f36a3d10ab720ef85d.js.map