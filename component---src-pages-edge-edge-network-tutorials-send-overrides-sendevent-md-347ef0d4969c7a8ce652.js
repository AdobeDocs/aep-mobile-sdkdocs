"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[2318],{44317:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return l},default:function(){return u}});var a,r=t(87462),d=t(63366),i=(t(15007),t(64983)),o=t(91515),m=["components"],l={},s=(a="CodeBlock",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)}),p={_frontmatter:l},c=o.Z;function u(e){var n=e.components,t=(0,d.Z)(e,m);return(0,i.mdx)(c,(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"sending-configuration-overrides-using-sendevent"},"Sending configuration overrides using sendEvent"),(0,i.mdx)("p",null,"Datastream overrides let you define additional configuration settings for your datastreams, allowing you to trigger different datastream behaviors on a per event basis."),(0,i.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.mdx)("p",null,"Before continuing with this tutorial, please ensure that the Edge extension version meets the minimum requirements:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"../../index.md"},"Edge")," extension version >= ",(0,i.mdx)("strong",{parentName:"li"},"2.4.0")," (Android) and >= ",(0,i.mdx)("strong",{parentName:"li"},"4.3.0")," (iOS).")),(0,i.mdx)("p",null,"Additionally, please complete the following tutorials:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"../../../home/getting-started/configure-datastreams.md"},"Configure datastreams")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://experienceleague.adobe.com/docs/experience-platform/datastreams/configure.html?lang=en"},"Define overrides in your datastream configuration"))),(0,i.mdx)("h2",{id:"datastream-id-override"},"Datastream ID override"),(0,i.mdx)("p",null,"After configuring the datastream overrides, you can now send these overrides to the Edge Network through Mobile SDK. Sending the overrides using the ",(0,i.mdx)("inlineCode",{parentName:"p"},"sendEvent")," API is the final step of activating the datastream configuration overrides."),(0,i.mdx)("p",null,"The following examples demonstrate what a datastream ID override looks like in a Mobile SDK integration:"),(0,i.mdx)(s,{slots:"heading, code",repeat:"2",languages:"iOS (Swift), Android (Kotlin)",mdxType:"CodeBlock"}),(0,i.mdx)("p",null,"iOS (Swift)"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-swift"},'// Create Experience event from dictionary\nvar xdmData: [String: Any] = [\n  "eventType": "SampleXDMEvent",\n  "sample": "data",\n]\nlet experienceEvent = ExperienceEvent(xdm: xdmData, datastreamIdOverride: "SampleDatastreamId")\n\nEdge.sendEvent(experienceEvent: experienceEvent) { (handles: [EdgeEventHandle]) in\n  // Handle the Edge Network response\n}\n')),(0,i.mdx)("p",null,"Android (Kotlin)"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-kotlin"},'// Create experience event from Map\nval xdmData = mutableMapOf < String, Any > ()\nxdmData["eventType"] = "SampleXDMEvent"\nxdmData["sample"] = "data"\n\nval experienceEvent = ExperienceEvent.Builder()\n    .setXdmSchema(xdmData)\n    .setDatastreamIdOverride("SampleDatastreamId")\n    .build()\n\nEdge.sendEvent(experienceEvent) {\n    // Handle the Edge Network response\n}\n')),(0,i.mdx)("h2",{id:"datastream-configuration-override"},"Datastream configuration override"),(0,i.mdx)("p",null,"The following examples demonstrate what a datastream configuration override could look like in a Mobile SDK integration:"),(0,i.mdx)(s,{slots:"heading, code",repeat:"2",languages:"iOS (Swift), Android (Kotlin)",mdxType:"CodeBlock"}),(0,i.mdx)("p",null,"iOS (Swift)"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-swift"},'// Create Experience event from dictionary\nvar xdmData: [String: Any] = [\n  "eventType": "SampleXDMEvent",\n  "sample": "data",\n]\n\nlet configOverrides: [String: Any] = [\n  "com_adobe_experience_platform": [\n    "datasets": [\n      "event": [\n        "datasetId": "SampleEventDatasetIdOverride"\n      ]\n    ]\n  ],\n  "com_adobe_analytics": [\n  "reportSuites": [\n        "MyFirstOverrideReportSuite",\n          "MySecondOverrideReportSuite",\n          "MyThirdOverrideReportSuite"\n      ]\n  ],\n  "com_adobe_identity": [\n    "idSyncContainerId": "1234567"\n  ],\n  "com_adobe_target": [\n    "propertyToken": "63a46bbc-26cb-7cc3-def0-9ae1b51b6c62"\n ],\n]\n\nlet experienceEvent = ExperienceEvent(xdm: xdmData, datastreamConfigOverride: configOverrides)\n\nEdge.sendEvent(experienceEvent: experienceEvent) { (handles: [EdgeEventHandle]) in\n  // Handle the Edge Network response\n}\n')),(0,i.mdx)("p",null,"Android (Kotlin)"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-kotlin"},'// Create experience event from Map\nval xdmData = mutableMapOf < String, Any > ()\nxdmData["eventType"] = "SampleXDMEvent"\nxdmData["sample"] = "data"\n\nval configOverrides = mapOf(\n    "com_adobe_experience_platform"\n    to mapOf(\n        "datasets"\n        to mapOf(\n            "event"\n            to mapOf("datasetId"\n                to "SampleEventDatasetIdOverride")\n        )\n    ),\n    "com_adobe_analytics"\n    to mapOf(\n        "reportSuites"\n        to listOf(\n            "MyFirstOverrideReportSuite",\n            "MySecondOverrideReportSuite",\n            "MyThirdOverrideReportSuite"\n        )\n    ),\n    "com_adobe_identity"\n    to mapOf(\n        "idSyncContainerId"\n        to "1234567"\n    ),\n    "com_adobe_target"\n    to mapOf(\n        "propertyToken"\n        to "63a46bbc-26cb-7cc3-def0-9ae1b51b6c62"\n    )\n)\n\nval experienceEvent = ExperienceEvent.Builder()\n    .setXdmSchema(xdmData)\n    .setDatastreamConfigOverride(configOverrides)\n    .build()\n\nEdge.sendEvent(experienceEvent) {\n    // Handle the Edge Network response\n}\n')),(0,i.mdx)("h2",{id:"payload-example"},"Payload example"),(0,i.mdx)("p",null,"The following example shows a sample payload after overriding the datastream configurations:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "meta": {\n    "configOverrides": {\n      "com_adobe_experience_platform": {\n        "datasets": {\n          "event": {\n            "datasetId": "SampleProfileDatasetIdOverride"\n          }\n        }\n      },\n      "com_adobe_analytics": {\n        "reportSuites": [\n        "MyFirstOverrideReportSuite",\n        "MySecondOverrideReportSuite",\n        "MyThirdOverrideReportSuite"\n        ]\n      },\n      "com_adobe_identity": {\n        "idSyncContainerId": "1234567"\n      },\n      "com_adobe_target": {\n        "propertyToken": "63a46bbc-26cb-7cc3-def0-9ae1b51b6c62"\n      }\n    },\n    "state": {  }\n  },\n  "events": [  ]\n}\n')))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-edge-edge-network-tutorials-send-overrides-sendevent-md-347ef0d4969c7a8ce652.js.map