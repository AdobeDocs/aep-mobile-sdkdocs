"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[8500,6044],{41050:function(e,a,t){t.r(a),t.d(a,{_frontmatter:function(){return p},default:function(){return x}});var n=t(87462),i=t(63366),o=(t(15007),t(64983)),l=t(91515),d=t(40008),r=t(20224),c=["components"],p={},s=function(e){return function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",a)}},m=s("TabsBlock"),u=s("InlineAlert"),y={_frontmatter:p},f=l.Z;function x(e){var a=e.components,t=(0,i.Z)(e,c);return(0,o.mdx)(f,(0,n.Z)({},y,t,{components:a,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"lifecycle"},"Lifecycle"),(0,o.mdx)("p",null,"Sessions contain information about the app's current lifecycle, such as the device information, the application install or upgrade information, the session start and pause times, the number of application launches, and additional context data that is provided by the developer through the ",(0,o.mdx)("inlineCode",{parentName:"p"},"lifecycleStart")," API. Session data is persisted, so it is available across application launches."),(0,o.mdx)("h2",{id:"add-the-lifecycle-extension-to-your-app"},"Add the Lifecycle extension to your app"),(0,o.mdx)("h3",{id:"include-lifecycle-extension-as-an-app-dependency"},"Include Lifecycle extension as an app dependency"),(0,o.mdx)("p",null,"Add MobileCore and Lifecycle extensions as dependencies to your project."),(0,o.mdx)(m,{orientation:"horizontal",slots:"heading, content",repeat:"3",mdxType:"TabsBlock"}),(0,o.mdx)("p",null,"Kotlin",(0,o.mdx)("br",null),"(Android)"),(0,o.mdx)(d.default,{query:"platform=android-kotlin&task=add",mdxType:"Tabs"}),(0,o.mdx)("p",null,"Groovy",(0,o.mdx)("br",null),"(Android)"),(0,o.mdx)(d.default,{query:"platform=android-groovy&task=add",mdxType:"Tabs"}),(0,o.mdx)("p",null,"CocoaPods",(0,o.mdx)("br",null),"(iOS)"),(0,o.mdx)(d.default,{query:"platform=ios-pods&task=add",mdxType:"Tabs"}),(0,o.mdx)("h3",{id:"initialize-adobe-experience-platform-sdk-with-lifecycle-extension"},"Initialize Adobe Experience Platform SDK with Lifecycle Extension"),(0,o.mdx)("p",null,"Next, initialize the SDK by registering all the solution extensions that have been added as dependencies to your project with Mobile Core. For detailed instructions, refer to the ",(0,o.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/getting-started/get-the-sdk/#2-add-initialization-code"},"initialization")," section of the getting started page."),(0,o.mdx)("p",null,"Using the ",(0,o.mdx)("inlineCode",{parentName:"p"},"MobileCore.initialize")," API to initialize the Adobe Experience Platform Mobile SDK simplifies the process by automatically registering solution extensions and enabling lifecycle tracking."),(0,o.mdx)(r.default,{query:"componentClass=TabsBlock",mdxType:"InitializeSDK"}),(0,o.mdx)("h2",{id:"add-lifecycle-start-and-pause-calls"},"Add Lifecycle start and pause calls"),(0,o.mdx)(u,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"Lifecycle tracking is enabled by default when the ",(0,o.mdx)("inlineCode",{parentName:"p"},"MobileCore.initialize")," API is used and Lifecycle extension is included as an app dependency. The following instructions only apply if ",(0,o.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/api-reference/#initoptions"},"lifecycleAutomaticTrackingEnabled")," is false or when using ",(0,o.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/getting-started/get-the-sdk/#b-manual-extension-registration-using-mobilecoreregisterextensions-api"},"manual extension registration")," to register Lifecycle extension."),(0,o.mdx)("p",null,"You can start collecting Lifecycle information at any time in your app, but you should start as soon as your app enters the foreground. This allows Lifecycle metrics to be correctly attributed to all of your users' activities for their current session."),(0,o.mdx)("p",null,"You should pause Lifecycle collection when the user stops using your app. The best time to do this is usually when your app has entered the background."),(0,o.mdx)("h3",{id:"lifecycle-on-ios"},"Lifecycle on iOS"),(0,o.mdx)("h4",{id:"start-lifecycle-data-collection-on-launch"},"Start Lifecycle data collection on launch"),(0,o.mdx)("p",null,"Start Lifecycle data collection by calling ",(0,o.mdx)("inlineCode",{parentName:"p"},"lifecycleStart(_:)")," from within the callback of the ",(0,o.mdx)("inlineCode",{parentName:"p"},"MobileCore.registerExtensions(_:)")," method in your app's ",(0,o.mdx)("inlineCode",{parentName:"p"},"application(_:didFinishLaunchingWithOptions:)")," delegate method."),(0,o.mdx)("p",null,"If your iOS application supports background capabilities, your ",(0,o.mdx)("inlineCode",{parentName:"p"},"application(_:didFinishLaunchingWithOptions:)")," method might be called when iOS launches your app in the background. If you do not want background launches to count towards your lifecycle metrics, then ",(0,o.mdx)("inlineCode",{parentName:"p"},"lifecycleStart(_:)")," should only be called when the application state is not equal to ",(0,o.mdx)("inlineCode",{parentName:"p"},"UIApplicationStateBackground"),"."),(0,o.mdx)(m,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,o.mdx)("p",null,"Swift"),(0,o.mdx)(d.default,{query:"platform=ios-swift&task=start-lifecycle-didfinishlaunch",mdxType:"Tabs"}),(0,o.mdx)("p",null,"Objective-C"),(0,o.mdx)(d.default,{query:"platform=ios-objc&task=start-lifecycle-didfinishlaunch",mdxType:"Tabs"}),(0,o.mdx)("h4",{id:"start-and-pause-lifecycle-data-collection-from-ios-lifecycle-delegate"},"Start and Pause Lifecycle data collection from iOS lifecycle delegate"),(0,o.mdx)("p",null,"When your app is resuming from the background state, call ",(0,o.mdx)("inlineCode",{parentName:"p"},"lifecycleStart(_:)"),' from the appropriate delegate object\'s "will enter foreground" method. When your app enters the background state, call ',(0,o.mdx)("inlineCode",{parentName:"p"},"lifecyclePause()"),' from the appropriate delegate object\'s "did enter background" method.'),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("p",{parentName:"li"},"For a scene-based UI, call the Lifecycle APIs from the ",(0,o.mdx)("em",{parentName:"p"},"UISceneDelegate"),"'s ",(0,o.mdx)("inlineCode",{parentName:"p"},"sceneWillEnterForeground(_:)")," and ",(0,o.mdx)("inlineCode",{parentName:"p"},"sceneDidEnterBackground(_:)")," methods.")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("p",{parentName:"li"},"For all other apps, call the Lifecycle APIs from the ",(0,o.mdx)("em",{parentName:"p"},"UIApplicationDelegate"),"'s ",(0,o.mdx)("inlineCode",{parentName:"p"},"applicationWillEnterForeground(_:)")," and ",(0,o.mdx)("inlineCode",{parentName:"p"},"applicationDidEnterBackground(_:)")," methods.")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("p",{parentName:"li"},"If your application supports both a scene delegate and an app delegate, implement the Lifecycle APIs in both delegate objects."))),(0,o.mdx)(m,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,o.mdx)("p",null,"Swift"),(0,o.mdx)(d.default,{query:"platform=ios-swift&task=start-pause",mdxType:"Tabs"}),(0,o.mdx)("p",null,"Objective-C"),(0,o.mdx)(d.default,{query:"platform=ios-objc&task=start-pause",mdxType:"Tabs"}),(0,o.mdx)(u,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"For more information on handling foreground and background states in applications with Scenes, refer to Apple's documentation on preparing your UI to run in the ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.apple.com/documentation/uikit/app_and_environment/scenes/preparing_your_ui_to_run_in_the_foreground"},"foreground")," and ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.apple.com/documentation/uikit/app_and_environment/scenes/preparing_your_ui_to_run_in_the_background"},"background")),(0,o.mdx)("h4",{id:"start-and-pause-lifecycle-data-collection-in-swiftui"},"Start and Pause Lifecycle data collection in SwiftUI"),(0,o.mdx)("p",null,"If your pure SwiftUI application does not use an app delegate or scene delegate, you may still use the Lifecycle extension by listening for ",(0,o.mdx)("inlineCode",{parentName:"p"},"scenePhase")," changes."),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Register the Lifecycle extension and configure the Mobile SDK from the ",(0,o.mdx)("inlineCode",{parentName:"p"},"App")," class's ",(0,o.mdx)("inlineCode",{parentName:"p"},"init()")," function.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Set the ",(0,o.mdx)("inlineCode",{parentName:"p"},"@Environment")," property wrapper to observe the ",(0,o.mdx)("inlineCode",{parentName:"p"},"scenePhase")," variable to read the application's current phase.")),(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("p",{parentName:"li"},"Use the ",(0,o.mdx)("inlineCode",{parentName:"p"},"scenePhase")," property in conjunction with ",(0,o.mdx)("inlineCode",{parentName:"p"},".onChange(of:)")," to trigger the Lifecycle APIs when the phase changes between ",(0,o.mdx)("inlineCode",{parentName:"p"},".active")," and ",(0,o.mdx)("inlineCode",{parentName:"p"},".background"),"."))),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-swift"},'import SwiftUI\nimport AEPCore\nimport AEPLifecycle\n\n@main\nstruct TestSwiftUIApp: App {\n\n    @Environment(\\.scenePhase) private var scenePhase\n\n    init() {\n        MobileCore.registerExtensions([Lifecycle.self]) {\n            // Post registration tasks, such as configureWith(appId:)\n        }\n    }\n\n    var body: some Scene {\n        WindowGroup {\n            ContentView()\n        }.onChange(of: scenePhase) { phase in\n            switch phase {\n                case .active:\n                    MobileCore.lifecycleStart(additionalContextData: nil)\n                case .background:\n                    MobileCore.lifecyclePause()\n                case .inactive:\n                    print("Inactive scene phase")\n                @unknown default:\n                    print("unknown scene phase has been added to scenePhase enum")\n            }\n        }\n    }\n}\n')),(0,o.mdx)("p",null,"For more information, read the full blog post ",(0,o.mdx)("a",{parentName:"p",href:"https://blog.developer.adobe.com/implement-adobe-experience-cloud-mobile-lifecycle-tracking-in-swiftui-41a8373a55fb"},"Implement Adobe Experience Cloud Mobile Lifecycle Tracking in SwiftUI"),"."),(0,o.mdx)("h4",{id:"include-additional-context-data"},"Include additional context data"),(0,o.mdx)("p",null,"To include additional data with lifecycle tracking calls, pass an additional parameter to ",(0,o.mdx)("inlineCode",{parentName:"p"},"lifecycleStart(additionalContextData:)")," that contains context data:"),(0,o.mdx)(m,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,o.mdx)("p",null,"Swift"),(0,o.mdx)(d.default,{query:"platform=ios-swift&task=context-data",mdxType:"Tabs"}),(0,o.mdx)("p",null,"Objective-C"),(0,o.mdx)(d.default,{query:"platform=ios-objc&task=context-data",mdxType:"Tabs"}),(0,o.mdx)("h3",{id:"lifecycle-on-android"},"Lifecycle on Android"),(0,o.mdx)("h4",{id:"start-and-pause-lifecycle-data-collection-from-android-activity"},"Start and Pause Lifecycle data collection from Android Activity"),(0,o.mdx)("p",null,"To ensure accurate session and crash reporting, the Lifecycle APIs must be implemented in every Activity of the Android Application. Do not start or stop Lifecycle in a Fragment."),(0,o.mdx)(m,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,o.mdx)("p",null,"Kotlin"),(0,o.mdx)(d.default,{query:"platform=android-kotlin&task=activity-start-pause",mdxType:"Tabs"}),(0,o.mdx)("p",null,"Java"),(0,o.mdx)(d.default,{query:"platform=android-java&task=activity-start-pause",mdxType:"Tabs"}),(0,o.mdx)(u,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"Calling ",(0,o.mdx)("inlineCode",{parentName:"p"},"setApplication(Application)")," is only necessary on activities that are entry points for your application. However, setting the application on each Activity has no negative impact and ensures that the SDK always has the necessary reference to your application. You should call ",(0,o.mdx)("inlineCode",{parentName:"p"},"setApplication(Application)")," in each of your activities."),(0,o.mdx)("h4",{id:"implementing-global-lifecycle-callbacks"},"Implementing global lifecycle callbacks"),(0,o.mdx)("p",null,"Starting with API Level 14, Android allows global lifecycle callbacks for activities. For more information, please read the ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.android.com/reference/android/app/Application#registerActivityLifecycleCallbacks(android.app.Application.ActivityLifecycleCallbacks)"},"Android developer guide"),"."),(0,o.mdx)("p",null,"You can use these callbacks to ensure that all of your activities correctly call the Lifecycle APIs without needing to update each individual Activity class. Add code to register an instance of ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.android.com/reference/android/app/Application.ActivityLifecycleCallbacks"},"ActivityLifecycleCallbacks")," in your Application class, just before ",(0,o.mdx)("a",{parentName:"p",href:"#register-lifecycle-with-mobile-core"},"registering your extensions")," with MobileCore."),(0,o.mdx)(m,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,o.mdx)("p",null,"Kotlin"),(0,o.mdx)(d.default,{query:"platform=android-kotlin&task=global-lifecycle",mdxType:"Tabs"}),(0,o.mdx)("p",null,"Java"),(0,o.mdx)(d.default,{query:"platform=android-java&task=global-lifecycle",mdxType:"Tabs"}),(0,o.mdx)("h4",{id:"include-additional-context-data-1"},"Include additional context data"),(0,o.mdx)("p",null,"To include additional data with lifecycle tracking calls, pass an additional parameter to ",(0,o.mdx)("inlineCode",{parentName:"p"},"lifecycleStart(Map)")," that contains context data:"),(0,o.mdx)(m,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,o.mdx)("p",null,"Kotlin"),(0,o.mdx)(d.default,{query:"platform=android-kotlin&task=context-data",mdxType:"Tabs"}),(0,o.mdx)("p",null,"Java"),(0,o.mdx)(d.default,{query:"platform=android-java&task=context-data",mdxType:"Tabs"}),(0,o.mdx)(u,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"You only need to add this code in your main Activity and any other Activity in which your app may be launched."))}x.isMDXComponent=!0},40008:function(e,a,t){t.r(a),t.d(a,{_frontmatter:function(){return p},default:function(){return y}});var n,i=t(87462),o=t(63366),l=(t(15007),t(64983)),d=t(91515),r=t(47968),c=["components"],p={},s=(n="Variant",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.mdx)("div",e)}),m={_frontmatter:p},u=d.Z;function y(e){var a=e.components,t=(0,o.Z)(e,c);return(0,l.mdx)(u,(0,i.Z)({},m,t,{components:a,mdxType:"MDXLayout"}),(0,l.mdx)(s,{platform:"android-kotlin",task:"add",repeat:"3",mdxType:"Variant"}),(0,l.mdx)("p",null,"Add the required dependencies to your project by including them in the app's Gradle file."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-kotlin"},'implementation(platform("com.adobe.marketing.mobile:sdk-bom:3.+"))\nimplementation("com.adobe.marketing.mobile:core")\nimplementation("com.adobe.marketing.mobile:lifecycle")\n')),(0,l.mdx)(r.default,{query:"platform=android-gradle&componentClass=InlineNestedAlert",mdxType:"Alerts"}),(0,l.mdx)(s,{platform:"android-groovy",task:"add",repeat:"3",mdxType:"Variant"}),(0,l.mdx)("p",null,"Add the required dependencies to your project by including them in the app's Gradle file."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-java"},"implementation platform('com.adobe.marketing.mobile:sdk-bom:3.+')\nimplementation 'com.adobe.marketing.mobile:core'\nimplementation 'com.adobe.marketing.mobile:lifecycle'\n")),(0,l.mdx)(r.default,{query:"platform=android-gradle&componentClass=InlineNestedAlert",mdxType:"Alerts"}),(0,l.mdx)(s,{platform:"ios-pods",task:"add",repeat:"2",mdxType:"Variant"}),(0,l.mdx)("p",null,"Add the required dependencies to your project using CocoaPods. Add following pods in your ",(0,l.mdx)("inlineCode",{parentName:"p"},"Podfile"),":"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-swift"},"use_frameworks!\n\ntarget 'YourTargetApp' do\n  pod 'AEPCore', '~> 5.0'\n  pod 'AEPLifecycle', '~> 5.0'\nend\n")),(0,l.mdx)(s,{platform:"android-java",task:"activity-start-pause",repeat:"5",mdxType:"Variant"}),(0,l.mdx)("h4",{id:"java"},"Java"),(0,l.mdx)("p",null,"Add the following to each Android Activity class."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-java"},"import com.adobe.marketing.mobile.MobileCore;\nimport com.adobe.marketing.mobile.Lifecycle;\n...\n")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-java"},"    @Override\n    public void onResume() {\n        MobileCore.setApplication(getApplication());\n        MobileCore.lifecycleStart(null);\n    }\n")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-java"},"    @Override\n    public void onPause() {\n        MobileCore.lifecyclePause();\n    }\n")),(0,l.mdx)(s,{platform:"android-kotlin",task:"activity-start-pause",repeat:"5",mdxType:"Variant"}),(0,l.mdx)("h4",{id:"kotlin"},"Kotlin"),(0,l.mdx)("p",null,"Add the following to each Android Activity class."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-kotlin"},"import com.adobe.marketing.mobile.MobileCore\nimport com.adobe.marketing.mobile.Lifecycle\n...\n")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-kotlin"},"    override fun onResume() {\n        MobileCore.setApplication(this.application)\n        MobileCore.lifecycleStart(null)\n    }\n")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-kotlin"},"    override fun onPause() {\n        MobileCore.lifecyclePause()\n    }\n")),(0,l.mdx)(s,{platform:"android-java",task:"context-data",repeat:"1",mdxType:"Variant"}),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-java"},'HashMap<String, Object> additionalContextData = new HashMap<String, Object>();\ncontextData.put("myapp.category", "Game");\nMobileCore.lifecycleStart(additionalContextData);\n')),(0,l.mdx)(s,{platform:"android-kotlin",task:"context-data",repeat:"1",mdxType:"Variant"}),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-kotlin"},'MobileCore.lifecycleStart(mapOf("myapp.category" to "Game"))\n')),(0,l.mdx)(s,{platform:"ios-swift",task:"context-data",repeat:"1",mdxType:"Variant"}),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-swift"},'MobileCore.lifecycleStart(additionalContextData: ["myapp.category": "Game"])\n')),(0,l.mdx)(s,{platform:"ios-objc",task:"context-data",repeat:"1",mdxType:"Variant"}),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-objectivec"},'[AEPMobileCore lifecycleStart:@{@"myapp.category": @"Game"}];      \n')),(0,l.mdx)(s,{platform:"android-java",task:"global-lifecycle",repeat:"1",mdxType:"Variant"}),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-java"},"import com.adobe.marketing.mobile.MobileCore;\nimport com.adobe.marketing.mobile.Lifecycle;\n\npublic class MobileApp extends Application {\n\n@Override\nprotected void onCreate() {\n    super.onCreate();\n\n    registerActivityLifecycleCallbacks(new ActivityLifecycleCallbacks() {\n        @Override\n        public void onActivityResumed(Activity activity) {\n            MobileCore.setApplication(activity.getApplication());\n            MobileCore.lifecycleStart(null);\n        }\n\n        @Override\n        public void onActivityPaused(Activity activity) {\n            MobileCore.lifecyclePause();\n        }\n\n        // the following methods aren't needed for our lifecycle purposes, but are\n        // required to be implemented by the ActivityLifecycleCallbacks object\n        @Override\n        public void onActivityCreated(Activity activity, Bundle savedInstanceState) {}\n        @Override\n        public void onActivityStarted(Activity activity) {}\n        @Override\n        public void onActivityStopped(Activity activity) {}\n        @Override\n        public void onActivitySaveInstanceState(Activity activity, Bundle outState) {}\n        @Override\n        public void onActivityDestroyed(Activity activity) {}\n    });\n\n    ...\n}\n ...\n}\n")),(0,l.mdx)(s,{platform:"android-kotlin",task:"global-lifecycle",repeat:"1",mdxType:"Variant"}),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-kotlin"},"import com.adobe.marketing.mobile.MobileCore\nimport com.adobe.marketing.mobile.Lifecycle\n\nclass MobileApp : Application() {\n\noverride fun onCreate() {\n    super.onCreate()\n\n    registerActivityLifecycleCallbacks(object: ActivityLifecycleCallbacks {\n        override fun onActivityResumed(activity: Activity) {\n            MobileCore.setApplication(activity.application)\n            MobileCore.lifecycleStart(null)\n        }\n\n        override fun onActivityPaused(activity: Activity) {\n            MobileCore.lifecyclePause()\n        }\n\n        // the following methods aren't needed for our lifecycle purposes, but are\n        // required to be implemented by the ActivityLifecycleCallbacks object\n        override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle?) {}\n        override fun onActivityStarted(activity: Activity) {}\n        override fun onActivityStopped(activity: Activity) {}\n        override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {}\n        override fun onActivityDestroyed(activity: Activity) {}\n    })\n\n    ...\n}\n ...\n}\n")),(0,l.mdx)(s,{platform:"ios-swift",task:"start-lifecycle-didfinishlaunch",repeat:"1",mdxType:"Variant"}),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-swift"},"func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {\n    let appState = application.applicationState\n    MobileCore.registerExtensions([Lifecycle.self, ...], {\n        if appState != .background {\n        // only start lifecycle if the application is not in the background\n        MobileCore.lifecycleStart(additionalContextData: nil)\n        }\n    }\n}\n")),(0,l.mdx)(s,{platform:"ios-objc",task:"start-lifecycle-didfinishlaunch",repeat:"1",mdxType:"Variant"}),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-objectivec"},"- (BOOL) application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    const UIApplicationState appState = application.applicationState;\n    [AEPMobileCore registerExtensions:@[AEPMobileLifecycle.class, ...] completion:^{\n    // only start lifecycle if the application is not in the background\n    if (appState != UIApplicationStateBackground) {\n        [AEPMobileCore lifecycleStart:nil];\n    }\n    }];\n}\n")),(0,l.mdx)(s,{platform:"ios-swift",task:"start-pause",repeat:"6",mdxType:"Variant"}),(0,l.mdx)("p",null,"In iOS 13 and later, for a scene-based application, use the ",(0,l.mdx)("inlineCode",{parentName:"p"},"UISceneDelegate")," as follows:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-swift"},"func sceneWillEnterForeground(_ scene: UIScene) {\n    MobileCore.lifecycleStart(additionalContextData: nil)\n}\n")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-swift"},"func sceneDidEnterBackground(_ scene: UIScene) {\n    MobileCore.lifecyclePause()\n}\n")),(0,l.mdx)("p",null,"In iOS 12 and earlier, use the ",(0,l.mdx)("inlineCode",{parentName:"p"},"UIApplicationDelegate")," as follows:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-swift"},"func applicationWillEnterForeground(_ application: UIApplication) {\n    MobileCore.lifecycleStart(additionalContextData: nil)\n}\n")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-swift"},"func applicationDidEnterBackground(_ application: UIApplication) {\n    MobileCore.lifecyclePause()\n}\n")),(0,l.mdx)(s,{platform:"ios-objc",task:"start-pause",repeat:"6",mdxType:"Variant"}),(0,l.mdx)("p",null,"In iOS 13 and later, for a scene-based application, use the ",(0,l.mdx)("inlineCode",{parentName:"p"},"UISceneDelegate")," as follows:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-objectivec"},"- (void) sceneWillEnterForeground:(UIScene *)scene {\n    [AEPMobileCore lifecycleStart:nil];\n}\n")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-objectivec"},"- (void) sceneDidEnterBackground:(UIScene *)scene {\n    [AEPMobileCore lifecyclePause];\n}\n")),(0,l.mdx)("p",null,"In iOS 12 and earlier, use the ",(0,l.mdx)("inlineCode",{parentName:"p"},"UIApplicationDelegate")," as follows:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-objectivec"},"- (void) applicationWillEnterForeground:(UIApplication *)application {\n    [AEPMobileCore lifecycleStart:nil];\n}\n")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-objectivec"},"- (void) applicationDidEnterBackground:(UIApplication *)application {\n    [AEPMobileCore lifecyclePause];\n}\n")))}y.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-home-base-mobile-core-lifecycle-index-md-9ddc15994acc2feaf4e2.js.map