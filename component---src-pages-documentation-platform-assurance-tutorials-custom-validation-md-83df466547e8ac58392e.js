"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[6336],{15095:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return m},default:function(){return p}});var n=a(87462),i=a(63366),d=(a(15007),a(64983)),r=a(91515),o=["components"],m={},l={_frontmatter:m},s=r.Z;function p(e){var t=e.components,a=(0,i.Z)(e,o);return(0,d.mdx)(s,(0,n.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"custom-validation"},"Custom Validation"),(0,d.mdx)("h2",{id:"overview"},"Overview"),(0,d.mdx)("p",null,"You may use the Custom Validation feature to quickly and easily write a JavaScript function to validate events in an Adobe Experience Platform Assurance session."),(0,d.mdx)("h2",{id:"getting-started"},"Getting Started"),(0,d.mdx)("p",null,"To use this view, complete the following steps:"),(0,d.mdx)("ol",null,(0,d.mdx)("li",{parentName:"ol"},(0,d.mdx)("a",{parentName:"li",href:"../set-up.md"},"Set up Assurance")),(0,d.mdx)("li",{parentName:"ol"},(0,d.mdx)("a",{parentName:"li",href:"./index.md#creating-sessions"},"Create")," and ",(0,d.mdx)("a",{parentName:"li",href:"./index.md#connecting-to-a-session"},"connect")," to an Assurance session"),(0,d.mdx)("li",{parentName:"ol"},"In the ",(0,d.mdx)("strong",{parentName:"li"},"Home")," view, select ",(0,d.mdx)("strong",{parentName:"li"},"Validation Scripts"))),(0,d.mdx)("p",null,(0,d.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"514px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"83.75%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/dd7bad46ee84520cded6abce7effa92f/5530d/validation-menu.webp 320w","/aep-mobile-sdkdocs/static/dd7bad46ee84520cded6abce7effa92f/b37eb/validation-menu.webp 514w"],sizes:"(max-width: 514px) 100vw, 514px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/dd7bad46ee84520cded6abce7effa92f/dd4a7/validation-menu.png 320w","/aep-mobile-sdkdocs/static/dd7bad46ee84520cded6abce7effa92f/1cbe9/validation-menu.png 514w"],sizes:"(max-width: 514px) 100vw, 514px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/aep-mobile-sdkdocs/static/dd7bad46ee84520cded6abce7effa92f/1cbe9/validation-menu.png",alt:"Custom Validation",title:"Custom Validation",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("h2",{id:"writing-a-validation-function"},"Writing a Validation Function"),(0,d.mdx)("p",null,"This feature allows you to write a function to validate events in your Assurance session. The function should expect an array of Assurance events and should return:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"A boolean (true or false) OR"),(0,d.mdx)("li",{parentName:"ul"},"An object that contains a ",(0,d.mdx)("inlineCode",{parentName:"li"},"status")," property with an ",(0,d.mdx)("em",{parentName:"li"},"optional")," array of event UUIDs")),(0,d.mdx)("h3",{id:"event-definition"},"Event Definition"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:"left"},"Key"),(0,d.mdx)("th",{parentName:"tr",align:"left"},"Type"),(0,d.mdx)("th",{parentName:"tr",align:"left"},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"uuid")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"String"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Universally unique identifier for the event.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"timestamp")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Number"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Timestamp from the device when the event was sent from the SDK.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"eventNumber")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Number"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Used to order when the event was sent. This key is useful when events have the same timestamp.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"vendor")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"String"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Vendor identification string in the reverse domain name format (for example, com.adobe.assurance).")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"type")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"String"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Used to denote the type of event.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"payload")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Object"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Defines the data for the event and contains unique and common properties. Some common properties include ",(0,d.mdx)("inlineCode",{parentName:"td"},"ACPExtensionEventSource and ACPExtensionEventType"),".")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"annotations")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Array"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"An array of annotation objects.")))),(0,d.mdx)("h3",{id:"annotation-definition"},"Annotation Definition"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:"left"},"Key"),(0,d.mdx)("th",{parentName:"tr",align:"left"},"Type"),(0,d.mdx)("th",{parentName:"tr",align:"left"},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"uuid")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"String"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Universally unique identifier for the annotation.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"type")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"String"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Used to denote the type of annotation and is usually the name of the plugin (for example, analytics).")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"payload")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Object"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Defines the data that should supplement the event. For Adobe Analytics, this is where the post-processed hit data is contained.")))),(0,d.mdx)("h3",{id:"returning-validation-results"},"Returning Validation Results"),(0,d.mdx)("p",null,"To execute the code in the code editor, select ",(0,d.mdx)("strong",{parentName:"p"},"Validate"),". The function should return a boolean (true or false) or an object that contains a status property and optionally an array of event UUIDs."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:"left"},"Key"),(0,d.mdx)("th",{parentName:"tr",align:"left"},"Type"),(0,d.mdx)("th",{parentName:"tr",align:"left"},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"status")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"boolean"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Indicates whether the events being evaluated are valid (true) or invalid (false).")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:"left"},(0,d.mdx)("inlineCode",{parentName:"td"},"events")),(0,d.mdx)("td",{parentName:"tr",align:"left"},"Array"),(0,d.mdx)("td",{parentName:"tr",align:"left"},"(Optional) An array of event UUIDs. If provided with an invalid status, an event list displays the relevant events.")))),(0,d.mdx)("p",null,(0,d.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"610px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"58.12500000000001%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/ada46cb45553e44b423e947a93f98686/5530d/validation-results.webp 320w","/aep-mobile-sdkdocs/static/ada46cb45553e44b423e947a93f98686/2e913/validation-results.webp 610w"],sizes:"(max-width: 610px) 100vw, 610px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/ada46cb45553e44b423e947a93f98686/dd4a7/validation-results.png 320w","/aep-mobile-sdkdocs/static/ada46cb45553e44b423e947a93f98686/5d5ad/validation-results.png 610w"],sizes:"(max-width: 610px) 100vw, 610px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/aep-mobile-sdkdocs/static/ada46cb45553e44b423e947a93f98686/5d5ad/validation-results.png",alt:"validation results",title:"validation results",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("h2",{id:"script-management"},"Script Management"),(0,d.mdx)("p",null,"When the view is first loaded, it provides an empty function with JSDoc comments that define how the function accepts the events parameter with the expected return output. Currently, the view allows you to manage several validation scripts by leveraging the browser's cache."),(0,d.mdx)("p",null,"You can create a new validation script by editing the existing scriptâ€™s name in the drop-down list. To save or delete the script, select ",(0,d.mdx)("strong",{parentName:"p"},"Save")," or ",(0,d.mdx)("strong",{parentName:"p"},"Delete"),"."),(0,d.mdx)("p",null,(0,d.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"410px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"63.74999999999999%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/7d9e1d11d492d1282c3dfad20a383379/5530d/validation-save.webp 320w","/aep-mobile-sdkdocs/static/7d9e1d11d492d1282c3dfad20a383379/a233f/validation-save.webp 410w"],sizes:"(max-width: 410px) 100vw, 410px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/7d9e1d11d492d1282c3dfad20a383379/dd4a7/validation-save.png 320w","/aep-mobile-sdkdocs/static/7d9e1d11d492d1282c3dfad20a383379/cb1d0/validation-save.png 410w"],sizes:"(max-width: 410px) 100vw, 410px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/aep-mobile-sdkdocs/static/7d9e1d11d492d1282c3dfad20a383379/cb1d0/validation-save.png",alt:"validation save",title:"validation save",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,d.mdx)("p",null,"If an error occurs in the JavaScript code editor, an ",(0,d.mdx)("inlineCode",{parentName:"p"},"ERROR")," status is displayed, and the reason for the error is output to the browser's developer console."),(0,d.mdx)("p",null,"Additionally, you can also reach out to our team on our Slack Channel at ",(0,d.mdx)("a",{parentName:"p",href:"https://projectgriffon.slack.com/"},"https://projectgriffon.slack.com/")))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-documentation-platform-assurance-tutorials-custom-validation-md-83df466547e8ac58392e.js.map