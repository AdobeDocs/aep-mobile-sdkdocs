"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[7440],{32238:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return s},default:function(){return f}});var a=t(87462),o=t(63366),r=(t(15007),t(64983)),d=t(91515),i=["components"],s={},l=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",n)}},c=l("InlineAlert"),p=l("CodeBlock"),m={_frontmatter:s},u=d.Z;function f(e){var n=e.components,t=(0,o.Z)(e,i);return(0,r.mdx)(u,(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"api-reference"},"API Reference"),(0,r.mdx)("p",null,"This document provides information on how to use the Messaging APIs to receive content card views in your application."),(0,r.mdx)("h2",{id:"getcontentcardui"},"getContentCardUI"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"getContentCardUI")," method retrieves a flow of ",(0,r.mdx)("a",{parentName:"p",href:"./public-classes/aepui.md"},"AepUI")," objects for the provided surface. These ",(0,r.mdx)("inlineCode",{parentName:"p"},"AepUI")," objects represent templated content cards whose UI can be rendered using provided card composables."),(0,r.mdx)(c,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"Calling this API will only retrieve the content cards are already downloaded and cached by the Messaging extension. This API will not download content cards from Adobe Journey Optimizer. You must call ",(0,r.mdx)("a",{parentName:"p",href:"../../code-based/api-reference.md#updatePropositionsForSurfaces"},(0,r.mdx)("inlineCode",{parentName:"a"},"updatePropositionsForSurfaces"))," API from the AEPMessaging extension with the desired surfaces prior to calling this API."),(0,r.mdx)("h3",{id:"syntax"},"Syntax"),(0,r.mdx)(p,{slots:"heading, code",repeat:"1",languages:"Kotlin",mdxType:"CodeBlock"}),(0,r.mdx)("h3",{id:"kotlin"},"Kotlin"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-kotlin"},"suspend fun getContentCardUI(): Flow<List<AepUI<*, *>>>\n")),(0,r.mdx)("h3",{id:"example"},"Example"),(0,r.mdx)(p,{slots:"heading, code",repeat:"1",languages:"Kotlin",mdxType:"CodeBlock"}),(0,r.mdx)("h3",{id:"kotlin-1"},"Kotlin"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-kotlin"},'// Download the content cards for homepage surface using Messaging extension\nval surfaces = mutableListOf<Surface>()\nval surface = Surface("homepage")\nsurfaces.add(surface)\nMessaging.updatePropositionsForSurfaces(surfaces)\n\n// Initialize the ContentCardUIProvider\nval contentCardUIProvider = ContentCardUIProvider(surface)\n\n// get the content cards within a view model\nclass MyScreenViewModel : ViewModel {\n  private val contentCardUIProvider = MessagingContentCardProvider(...)\n  private val _aepUIList = MutableStateFlow<List<AepUI<*, *>>>(emptyList())\n  val aepUIList: StateFlow<List<AepUI<*, *>>> = _aepUIList.asStateFlow()\n\n  // fetch the list of cards when necessary \n  viewModelScope.launch {\n    contentCardUIProvider.getContentCardUI().collect { \n      aepUi ->\n      _aepUIList.value = aepUi\n    }\n  }\n}\n')))}f.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-edge-adobe-journey-optimizer-content-card-ui-android-api-usage-md-49cce3e45bf2f97b667a.js.map