"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[3580],{81799:function(e,a,t){t.r(a),t.d(a,{_frontmatter:function(){return c},default:function(){return g}});var n,i=t(87462),s=t(63366),d=(t(15007),t(64983)),p=t(91515),o=t(23592),r=["components"],c={},m=(n="TabsBlock",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",e)}),l={_frontmatter:c},b=p.Z;function g(e){var a=e.components,t=(0,s.Z)(e,r);return(0,d.mdx)(b,(0,i.Z)({},l,t,{components:a,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"trigger-adobe-journey-optimizer-campaigns-using-the-send-data-to-platform-event"},"Trigger Adobe Journey Optimizer campaigns using the send data to platform event"),(0,d.mdx)("p",null,"This guide explains how to set up, then trigger Adobe Journey Optimizer campaigns by using the ",(0,d.mdx)("inlineCode",{parentName:"p"},"send data to platform event")," trigger available in the Adobe Journey Optimizer UI."),(0,d.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"Intermediate knowledge of AJO in-app message or content card campaign creation. Documentation regarding these two campaign types is available at:",(0,d.mdx)("ul",{parentName:"li"},(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"https://experienceleague.adobe.com/en/docs/journey-optimizer/using/channels/in-app/create-in-app"},"https://experienceleague.adobe.com/en/docs/journey-optimizer/using/channels/in-app/create-in-app")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"https://experienceleague.adobe.com/en/docs/journey-optimizer/using/channels/content-card/create-content-card"},"https://experienceleague.adobe.com/en/docs/journey-optimizer/using/channels/content-card/create-content-card"))))),(0,d.mdx)("h2",{id:"ajo-campaign-setup"},"AJO Campaign setup"),(0,d.mdx)("ol",null,(0,d.mdx)("li",{parentName:"ol"},"Create a scheduled campaign containing an in-app message action.\n",(0,d.mdx)("span",{parentName:"li",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1266px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"42.5%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/5a3ab9c3beb3fb320d918bc63d3d9494/5530d/send-data-event-in-app-action.webp 320w","/aep-mobile-sdkdocs/static/5a3ab9c3beb3fb320d918bc63d3d9494/0c8fb/send-data-event-in-app-action.webp 640w","/aep-mobile-sdkdocs/static/5a3ab9c3beb3fb320d918bc63d3d9494/f80fb/send-data-event-in-app-action.webp 1266w"],sizes:"(max-width: 1266px) 100vw, 1266px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/5a3ab9c3beb3fb320d918bc63d3d9494/dd4a7/send-data-event-in-app-action.png 320w","/aep-mobile-sdkdocs/static/5a3ab9c3beb3fb320d918bc63d3d9494/0f09e/send-data-event-in-app-action.png 640w","/aep-mobile-sdkdocs/static/5a3ab9c3beb3fb320d918bc63d3d9494/03d4c/send-data-event-in-app-action.png 1266w"],sizes:"(max-width: 1266px) 100vw, 1266px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/aep-mobile-sdkdocs/static/5a3ab9c3beb3fb320d918bc63d3d9494/03d4c/send-data-event-in-app-action.png",alt:"send-data-event-in-app-action",title:"send-data-event-in-app-action",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("li",{parentName:"ol"},"In-app campaigns (as well as content cards) support rule based triggers. For this example, we will create a campaign containing an in-app message action which we will be triggered using the ",(0,d.mdx)("em",{parentName:"li"},'"Send data to platform event"'),". Click ",(0,d.mdx)("em",{parentName:"li"},'"Edit Triggers"')," and setup a ",(0,d.mdx)("em",{parentName:"li"},'"Send data to Platform"')," event trigger with a condition of ",(0,d.mdx)("em",{parentName:"li"},'"XDM value"'),'. The created condition will be satisfied by a defined key value pair. The key value pair must be present within an Experience event request sent by your app. For this example, we will use a key of "status" and a value of "signedIn" to show our in-app message when a user has signed in to our app.\n',(0,d.mdx)("span",{parentName:"li",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"38.125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/44bf782a86b9ffe7e010816df1b506b0/5530d/send-data-event-define-rule.webp 320w","/aep-mobile-sdkdocs/static/44bf782a86b9ffe7e010816df1b506b0/0c8fb/send-data-event-define-rule.webp 640w","/aep-mobile-sdkdocs/static/44bf782a86b9ffe7e010816df1b506b0/94b1e/send-data-event-define-rule.webp 1280w","/aep-mobile-sdkdocs/static/44bf782a86b9ffe7e010816df1b506b0/10600/send-data-event-define-rule.webp 1768w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/44bf782a86b9ffe7e010816df1b506b0/dd4a7/send-data-event-define-rule.png 320w","/aep-mobile-sdkdocs/static/44bf782a86b9ffe7e010816df1b506b0/0f09e/send-data-event-define-rule.png 640w","/aep-mobile-sdkdocs/static/44bf782a86b9ffe7e010816df1b506b0/bbbf7/send-data-event-define-rule.png 1280w","/aep-mobile-sdkdocs/static/44bf782a86b9ffe7e010816df1b506b0/70035/send-data-event-define-rule.png 1768w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/aep-mobile-sdkdocs/static/44bf782a86b9ffe7e010816df1b506b0/bbbf7/send-data-event-define-rule.png",alt:"send-data-event-define-rule",title:"send-data-event-define-rule",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("li",{parentName:"ol"},"The completed in-app campaign with the ",(0,d.mdx)("em",{parentName:"li"},'"Send data to platform event"')," trigger setup will look like:\n",(0,d.mdx)("span",{parentName:"li",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"83.125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/30a95c3f12fa131fa420c205074e29cd/5530d/send-data-event-trigger-setup.webp 320w","/aep-mobile-sdkdocs/static/30a95c3f12fa131fa420c205074e29cd/0c8fb/send-data-event-trigger-setup.webp 640w","/aep-mobile-sdkdocs/static/30a95c3f12fa131fa420c205074e29cd/94b1e/send-data-event-trigger-setup.webp 1280w","/aep-mobile-sdkdocs/static/30a95c3f12fa131fa420c205074e29cd/2e315/send-data-event-trigger-setup.webp 1330w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/30a95c3f12fa131fa420c205074e29cd/dd4a7/send-data-event-trigger-setup.png 320w","/aep-mobile-sdkdocs/static/30a95c3f12fa131fa420c205074e29cd/0f09e/send-data-event-trigger-setup.png 640w","/aep-mobile-sdkdocs/static/30a95c3f12fa131fa420c205074e29cd/bbbf7/send-data-event-trigger-setup.png 1280w","/aep-mobile-sdkdocs/static/30a95c3f12fa131fa420c205074e29cd/9bae8/send-data-event-trigger-setup.png 1330w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/aep-mobile-sdkdocs/static/30a95c3f12fa131fa420c205074e29cd/bbbf7/send-data-event-trigger-setup.png",alt:"send-data-event-trigger-setup",title:"send-data-event-trigger-setup",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("li",{parentName:"ol"},"Review and activate the campaign after the in-app action content authoring is complete.")),(0,d.mdx)("h2",{id:"trigger-the-campaign-using-the-send-data-to-platform-event"},"Trigger the campaign using the send data to platform event"),(0,d.mdx)("p",null,"To trigger an Adobe Journey Optimizer campaign, you need to send an Experience event to Experience Platform. This event should contain the data that matches your campaign's trigger conditions."),(0,d.mdx)(m,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(o.default,{query:"platform=android&function=send-event",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(o.default,{query:"platform=ios&function=send-event",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"limitations"},"Limitations"),(0,d.mdx)("p",null,"Triggering with a value within an array is ",(0,d.mdx)("strong",{parentName:"p"},"not")," currently supported. For example, you cannot have an Experience Event as follows:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'"xdm": {\n     "productlistitems": [\n          {\n              "sku": "1234"\n          },\n          {\n              "sku": "4567"\n          }\n       ]\n},\n')),(0,d.mdx)("p",null,"The values within the maps or dictionaries in the list ",(0,d.mdx)("strong",{parentName:"p"},"cannot")," be used in a trigger."),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-text"},"(Sent data to Platform event happens) AND (XDM value productlistitems.0.sku = 1234)\n")))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-edge-adobe-journey-optimizer-in-app-message-tutorials-trigger-campaign-md-8343c32eb3d9aae26df7.js.map