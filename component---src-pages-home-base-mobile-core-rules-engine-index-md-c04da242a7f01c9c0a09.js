"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[669],{92443:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return l},default:function(){return m}});var n=a(87462),i=a(63366),o=(a(15007),a(64983)),s=a(91515),d=["components"],l={},r=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",t)}},c=r("InlineAlert"),p=r("Media"),h={_frontmatter:l},u=s.Z;function m(e){var t=e.components,a=(0,i.Z)(e,d);return(0,o.mdx)(u,(0,n.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"rules-engine"},"Rules Engine"),(0,o.mdx)("p",null,"The Rules Engine is provided by the Adobe Experience Platform Mobile SDKs as part of the ",(0,o.mdx)("a",{parentName:"p",href:"../index.md"},"Mobile Core")," extension."),(0,o.mdx)("p",null,"In the Experience Platform Mobile SDKs, the Rules Engine enables you to integrate the data and functionality of marketing and ad tech to help disparate products communicate. The Rules Engine looks for the user interaction and associated data, and when the criteria that you defined in the rules are met, the actions that you specified are triggered."),(0,o.mdx)("p",null,"The Rules Engine, when implemented through tags in the ",(0,o.mdx)("a",{parentName:"p",href:"https://experience.adobe.com/#/data-collection/"},"Data Collection UI"),", allows for complex if/then/else workflows that can combine multiple solution and extension related behaviors. You can define and capture the necessary user data and orchestrate how each solution contributes to the user's experience."),(0,o.mdx)("h2",{id:"data-elements"},"Data elements"),(0,o.mdx)("p",null,"Data elements are the building blocks for the applications data dictionary and are used to collect, organize, and deliver data across marketing and ad technology."),(0,o.mdx)("p",null,"A data element is a variable where the value can be mapped to a Visitor ID, a Carrier Name, an Advertising ID, a Push ID and so on. In the Data Collection UI, you can reference this value by its variable name. This collection of data elements becomes the dictionary of defined data that you can use to build your rules (events, conditions, and actions), and this dictionary is shared across the Data Collection UI where it can be used with any extension in your property."),(0,o.mdx)("h2",{id:"rules"},"Rules"),(0,o.mdx)("p",null,"You can define a set of rules in the ",(0,o.mdx)("a",{parentName:"p",href:"https://experience.adobe.com/#/data-collection/"},"Data Collection UI")," interface to find specific events or conditions and specify what actions should be triggered when those conditions are met."),(0,o.mdx)("p",null,(0,o.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,o.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"84.0625%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,o.mdx)("picture",{parentName:"span"},"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/b8356b50cdc066432d346df883c81a8a/5530d/rule-example.webp 320w","/aep-mobile-sdkdocs/static/b8356b50cdc066432d346df883c81a8a/0c8fb/rule-example.webp 640w","/aep-mobile-sdkdocs/static/b8356b50cdc066432d346df883c81a8a/94b1e/rule-example.webp 1280w","/aep-mobile-sdkdocs/static/b8356b50cdc066432d346df883c81a8a/e77b3/rule-example.webp 1548w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/aep-mobile-sdkdocs/static/b8356b50cdc066432d346df883c81a8a/dd4a7/rule-example.png 320w","/aep-mobile-sdkdocs/static/b8356b50cdc066432d346df883c81a8a/0f09e/rule-example.png 640w","/aep-mobile-sdkdocs/static/b8356b50cdc066432d346df883c81a8a/bbbf7/rule-example.png 1280w","/aep-mobile-sdkdocs/static/b8356b50cdc066432d346df883c81a8a/600f6/rule-example.png 1548w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,o.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/aep-mobile-sdkdocs/static/b8356b50cdc066432d346df883c81a8a/bbbf7/rule-example.png",alt:"rule example",title:"rule example",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,o.mdx)("h2",{id:"events-if"},"Events (If)"),(0,o.mdx)("p",null,"The event is defined by selecting an event, the applicable conditions, and the exceptions. An event is what the rules look for, which determines the actions that should be triggered. You can also add multiple event types that can be joined with an OR, and when any of the events are met, the rule's conditions are evaluated."),(0,o.mdx)("h2",{id:"conditions-andnot"},"Conditions (AND/NOT)"),(0,o.mdx)("p",null,"You can narrow the event by configuring the conditions that must be true for an event to trigger the rule. The AND/NOT conditions are used in the following ways:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"Multiple conditions are joined with an AND, which is also known as the Regular Logic Type."),(0,o.mdx)("li",{parentName:"ul"},"For included exceptions, use the NOT condition, which is also called the Exception Logic Type.")),(0,o.mdx)("h2",{id:"exception"},"Exception"),(0,o.mdx)("p",null,"An exception is defined as a NOT condition, and this condition excludes a specific behavior that might be included as part of the defined conditions."),(0,o.mdx)("h2",{id:"actions-then"},"Actions (Then)"),(0,o.mdx)("p",null,"An action, also known as a consequence, triggers an event after a rule's events have occurred, and the conditions in the rule have evaluated to ",(0,o.mdx)("inlineCode",{parentName:"p"},"true"),". A tag rule can trigger as many discrete actions as you want. For example, a rule can be triggered to set and send a data element's value to Adobe Analytics and send the same set of data to a third-party extension. You do not need to create separate rules for each extension or tag."),(0,o.mdx)("p",null,"Rules include data elements, events, conditions, and actions that are provided by the relevant extensions. These rules can be modified at any time and are saved and published as a new library that the SDK downloads as the latest set of rules."),(0,o.mdx)("h2",{id:"loading-and-processing-the-rules-json-file-by-the-rules-engine"},"Loading and processing the Rules JSON file by the Rules Engine"),(0,o.mdx)("p",null,"At the start of a new application session that includes the Experience Platform Mobile SDK, the Rules Engine gets the static endpoint of the Rules JSON file that is defined as part of the SDK configuration, loads the latest version of this rules file, and monitors the events in the SDK. When an event matches the defined conditions in the rules, the Rules Engine sends an action to the respective extensions with an extension-specific payload. Rule matching is completed by checking whether a defined set of conditions is met."),(0,o.mdx)(c,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"Conditions can be one match or a group of matches."),(0,o.mdx)("h2",{id:"re-evaluating-events"},"Re-evaluating events"),(0,o.mdx)("p",null,"On older versions of Experience Platform Mobile SDKs (prior to iOS version 1.6.2, Android version 1.5.4), after the first launch of the app, it always takes some time to download the rules from the remote servers. During this time, Rules Engine won't be able to evaluate the first several events until the rules are loaded. Starting from iOS version 1.6.2 and Android version 1.5.4, we add the capability to cache the events before the rules are downloaded and will re-evaluate those events afterward. This change is mainly to enable the trigger of Postback based on the install event."),(0,o.mdx)("h2",{id:"using-bundled-rules"},"Using Bundled Rules"),(0,o.mdx)(c,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"This feature is available from iOS AEP 3.x and Android 1.11.2."),(0,o.mdx)("p",null,"In addition to the remote configuration, you can also include a rules zip file in your app bundle to be used by the SDK before rules have been downloaded from the Data Collection UI. To add bundled rules to your app, follow these steps:"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Download the rules zip file using the following URL: ",(0,o.mdx)("inlineCode",{parentName:"li"},"https://assets.adobedtm.com/PASTE-ENVIRONMENT-ID-rules.zip")," replacing ",(0,o.mdx)("inlineCode",{parentName:"li"},"PASTE-ENVIRONMENT-ID")," with your mobile property environment ID."),(0,o.mdx)("li",{parentName:"ol"},'Rename the zip file to "ADBMobileConfig-rules.zip" and place the it in the relevant location for your device:',(0,o.mdx)("ul",{parentName:"li"},(0,o.mdx)("li",{parentName:"ul"},"iOS: Place the zip anywhere that it is accessible in your app bundle."),(0,o.mdx)("li",{parentName:"ul"},"Android: Place the zip file in the assets folder.")))),(0,o.mdx)("p",null,"For more information about the technical details of the Rules Engine, please read the ",(0,o.mdx)("a",{parentName:"p",href:"./technical-details"},"technical details guide"),"."),(0,o.mdx)("h2",{id:"watch-the-video"},"Watch the video"),(0,o.mdx)(p,{slots:"video",mdxType:"Media"}),(0,o.mdx)("p",null,(0,o.mdx)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=BwBeYNu5Crg"},"https://www.youtube.com/watch?v=BwBeYNu5Crg")))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-home-base-mobile-core-rules-engine-index-md-c04da242a7f01c9c0a09.js.map