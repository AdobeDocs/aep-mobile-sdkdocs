"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[6567],{72512:function(e,t,i){i.r(t),i.d(t,{_frontmatter:function(){return l},default:function(){return f}});var n=i(87462),o=i(63366),r=(i(15007),i(64983)),d=i(91515),a=i(47968),s=i(51056),p=["components"],l={},m=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",t)}},x=m("TabsBlock"),c=m("InlineAlert"),u={_frontmatter:l},h=d.Z;function f(e){var t=e.components,i=(0,o.Z)(e,p);return(0,r.mdx)(h,(0,n.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"api-reference"},"API reference"),(0,r.mdx)("h2",{id:"clearpropositions"},"clearPropositions"),(0,r.mdx)("p",null,"This API clears out the client-side in-memory propositions cache."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=clear-propositions",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(s.default,{query:"platform=ios&api=clear-propositions",mdxType:"Tabs"}),(0,r.mdx)("h2",{id:"extensionversion"},"extensionVersion"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"extensionVersion()")," method (on Android) or the ",(0,r.mdx)("inlineCode",{parentName:"p"},"extensionVersion")," property (on iOS) returns the version information for currently installed AEPOptimize extension."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=extension-version",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(s.default,{query:"platform=ios&api=extension-version",mdxType:"Tabs"}),(0,r.mdx)("h2",{id:"getpropositions"},"getPropositions"),(0,r.mdx)("p",null,"This API retrieves the previously fetched propositions, for the provided decision scopes, from the in-memory extension propositions cache. The completion callback is invoked with the decision propositions corresponding to the given decision scopes. If a certain decision scope has not already been fetched prior to this API call, it will not be contained in the returned propositions."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=get-propositions",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(s.default,{query:"platform=ios&api=get-propositions",mdxType:"Tabs"}),(0,r.mdx)("h2",{id:"onpropositionsupdate"},"onPropositionsUpdate"),(0,r.mdx)("p",null,"This API registers a permanent callback which is invoked whenever the Edge extension dispatches a response event with an ",(0,r.mdx)("inlineCode",{parentName:"p"},"eventType")," of ",(0,r.mdx)("inlineCode",{parentName:"p"},"personalization.response"),". Additionally, the callback is only invoked if the response event contains at least one valid offer. The personalization response can be triggered by the ",(0,r.mdx)("inlineCode",{parentName:"p"},"updatePropositions")," API."),(0,r.mdx)(c,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"The callback passed to ",(0,r.mdx)("inlineCode",{parentName:"p"},"onPropositionsUpdate")," will not be invoked if the Experience Edge Network returns an error for the personalization query, or if the response event payload is empty or has invalid proposition data. This API should not be used for handling errors that might occur when ",(0,r.mdx)("inlineCode",{parentName:"p"},"updatePropositions")," is called."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=on-propositions-update",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(s.default,{query:"platform=ios&api=on-propositions-update",mdxType:"Tabs"}),(0,r.mdx)("h2",{id:"registerextension"},"registerExtension"),(0,r.mdx)(a.default,{query:"platform=android-register-extension&componentClass=InlineNestedAlert",mdxType:"Alerts"}),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"1",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=register-extension",mdxType:"Tabs"}),(0,r.mdx)("h2",{id:"resetidentities"},"resetIdentities"),(0,r.mdx)(c,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"This API call can lead to unintended SDK behavior, e.g. resetting of Experience Cloud ID (ECID). So it should be sparingly used and caution should be followed!"),(0,r.mdx)("p",null,"This ",(0,r.mdx)("inlineCode",{parentName:"p"},"MobileCore")," API is a request to each extension to reset its identities. Every extension responds to this request in its own unique manner. For example, Optimize extension uses this API call to clear out its client-side in-memory propositions cache.\nFor details on syntax, usage and availability, refer to ",(0,r.mdx)("a",{parentName:"p",href:"../../home/base/mobile-core/api-reference.md#resetidentities"},"Mobile Core - Reset identities"),"."),(0,r.mdx)("h2",{id:"updatepropositions"},"updatePropositions"),(0,r.mdx)("p",null,"This API dispatches an Event for the Edge network extension to fetch decision propositions, for the provided decision scopes array, from the decisioning services enabled in the Experience Edge. The returned decision propositions are cached in-memory in the Optimize SDK extension and can be retrieved using ",(0,r.mdx)("inlineCode",{parentName:"p"},"getPropositions")," API."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=update-propositions",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(s.default,{query:"platform=ios&api=update-propositions",mdxType:"Tabs"}),(0,r.mdx)("h2",{id:"updatepropositionswithcompletionhandler"},"updatePropositionsWithCompletionHandler"),(0,r.mdx)("p",null,"This API dispatches an event for the Edge network extension to fetch decision propositions, for the provided decision scopes array, from the decisioning services enabled in the Experience Edge. The returned decision propositions are cached in-memory in the Optimize SDK extension and can be retrieved using ",(0,r.mdx)("inlineCode",{parentName:"p"},"getPropositions")," API."),(0,r.mdx)(c,{variant:"help",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"Completion callback passed to ",(0,r.mdx)("inlineCode",{parentName:"p"},"updatePropositions")," supports network timeout and fatal errors returned by edge network along with fetched propositions data. The SDK's internal retry mechanism handles the recoverable HTTP errors. As a result, recoverable HTTP errors are not returned through this callback."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=update-propositions-withError",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(s.default,{query:"platform=ios&api=update-propositions-withError",mdxType:"Tabs"}),(0,r.mdx)("h2",{id:"public-classes"},"Public classes"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:"left"},"Type"),(0,r.mdx)("th",{parentName:"tr",align:"left"},"Android"),(0,r.mdx)("th",{parentName:"tr",align:"left"},"(AEP 5.x) Swift"),(0,r.mdx)("th",{parentName:"tr",align:"left"},"(AEP 5.x) Objective-C"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:"left"},"class"),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"DecisionScope")),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"DecisionScope")),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"AEPDecisionScope"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:"left"},"class"),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"Proposition")),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"OptimizeProposition")),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"AEPOptimizeProposition"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:"left"},"class"),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"Offer")),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"Offer")),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"AEPOffer"))),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:"left"},"class"),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"AEPOptimizeError")),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"AEPOptimizeError")),(0,r.mdx)("td",{parentName:"tr",align:"left"},(0,r.mdx)("inlineCode",{parentName:"td"},"AEPOptimizeError"))))),(0,r.mdx)("h3",{id:"decisionscope"},"DecisionScope"),(0,r.mdx)("p",null,"This class represents the decision scope which is used to fetch the decision propositions from the Edge decisioning services. The encapsulated scope name can also represent the Base64-encoded JSON string created using the provided activityId, placementId, and itemCount."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=decisionscope",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(s.default,{query:"platform=ios&api=decisionscope",mdxType:"Tabs"}),(0,r.mdx)("h3",{id:"optimizeproposition"},"OptimizeProposition"),(0,r.mdx)("p",null,"This class represents the decision propositions received from the decisioning services, upon a personalization query request to the Experience Edge network."),(0,r.mdx)(c,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"In SDK versions lower than Android 3.0.0 and iOS 5.0.0, this class was named ",(0,r.mdx)("inlineCode",{parentName:"p"},"Proposition")),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=proposition",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(s.default,{query:"platform=ios&api=proposition",mdxType:"Tabs"}),(0,r.mdx)("h3",{id:"offer"},"Offer"),(0,r.mdx)("p",null,"This class represents the proposition option received from the decisioning services, upon a personalization query to the Experience Edge network."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=offer",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(s.default,{query:"platform=ios&api=offer",mdxType:"Tabs"}),(0,r.mdx)("h3",{id:"offertype"},"OfferType"),(0,r.mdx)("p",null,"An enum indicating the type of an offer, derived from the proposition item ",(0,r.mdx)("inlineCode",{parentName:"p"},"format")," field in personalization query response."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=offertype",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(s.default,{query:"platform=ios&api=offertype",mdxType:"Tabs"}),(0,r.mdx)("h3",{id:"aepoptimizeerror"},"AEPOptimizeError"),(0,r.mdx)("p",null,"This class represents the error details returned by the Edge Network while fetching propositions."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(s.default,{query:"platform=android&api=optimizeerror",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(s.default,{query:"platform=ios&api=optimizeerror",mdxType:"Tabs"}))}f.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-edge-adobe-journey-optimizer-decisioning-api-reference-md-b4475fcb3c3121f3b20f.js.map