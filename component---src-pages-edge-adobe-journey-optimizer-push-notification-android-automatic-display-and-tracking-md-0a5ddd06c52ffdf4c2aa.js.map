{"version":3,"file":"component---src-pages-edge-adobe-journey-optimizer-push-notification-android-automatic-display-and-tracking-md-0a5ddd06c52ffdf4c2aa.js","mappings":"4OAOsBA,E,wEADTC,EAAe,CAAC,EAKvBC,GAJgBF,EAIY,cAJJ,SAA6BG,GAEzD,OADAC,QAAQC,KAAK,aAAeL,EAAO,4EAC5B,eAASG,EAClB,GAEMG,EAAc,CAClBL,aAAAA,GAEIM,EAAYC,EAAAA,EACH,SAASC,EAAW,GAGhC,IAFDC,EAAU,EAAVA,WACGP,GAAK,YAER,OAAO,SAACI,GAAS,UAAKD,EAAiBH,EAAK,CAAEO,WAAYA,EAAYC,QAAQ,eAG5E,eACE,GAAM,qDAAmD,sDAE3D,8PACA,eACE,GAAM,kBAAgB,mBAExB,mBAAG,cAAGC,WAAW,IACb,KAAQ,uDAAqD,8CACV,kBACvD,eACE,GAAM,uBAAqB,wBAE7B,wHAAyG,cAAGA,WAAW,IACnH,KAAQ,2GAAyG,0BAClF,eAAe,uBAAYA,WAAW,KAAG,qBAAmC,oFAC/G,SAACV,EAAW,CAACW,QAAQ,OAAOC,MAAM,OAAOH,QAAQ,iBACjD,iOACA,qBAAK,iBAAMC,WAAW,MAClB,UAAa,iBAAe,giBAmBhC,eACE,GAAM,uCAAqC,wCAE7C,eACE,GAAM,0DAAwD,4DAEhE,SAACV,EAAW,CAACW,QAAQ,OAAOC,MAAM,OAAOH,QAAQ,iBACjD,+DAAgD,uBAAYC,WAAW,KAAG,4BAA0C,wDAAwD,cAAGA,WAAW,IACtL,KAAQ,4CAA0C,2CACF,cACpD,+CAAgC,uBAAYA,WAAW,KAAG,oBAAkC,uEAAuE,uBAAYA,WAAW,KAAG,oBAAkC,mCAAmC,uBAAYA,WAAW,KAAG,uBAAqC,WACjU,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBAAe,+SAShC,eACE,GAAM,2CAAyC,4CAEjD,+DAAgD,uBAAYA,WAAW,KAAG,4BAA0C,gIACpH,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBAAe,4dAYhC,eACE,GAAM,wBAAsB,yBAE9B,+MACA,4JAA6I,cAAGA,WAAW,IACvJ,KAAQ,yEAAuE,yBACjD,0HAA0H,cAAGA,WAAW,IACtK,KAAQ,yFAAuF,mCACvD,iCAC5C,mBAAG,mBAAQA,WAAW,KAAG,mBAA6B,4UACtD,eACE,GAAM,0BAAwB,2BAEhC,4LACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBAAe,sEAGhC,4KACA,eACE,GAAM,wBAAsB,yBAE9B,iHAAkG,cAAGA,WAAW,IAC5G,KAAQ,yFAAuF,8DAC5B,kBAG3E,CAEAH,EAAWM,gBAAiB,C","sources":["webpack://dev-site-documentation-template/./src/pages/edge/adobe-journey-optimizer/push-notification/android/automatic-display-and-tracking.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/aep-mobile-sdkdocs/aep-mobile-sdkdocs/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"automatically-display-and-track-push-notification\"\n    }}>{`Automatically display and track push notification`}</h1>\n    <p>{`This document describes how to automatically display and track push notifications using the AEPMessaging extension. You should use this method unless you have a specific requirement to manually display and track push notifications.`}</p>\n    <h2 {...{\n      \"id\": \"pre-requisites\"\n    }}>{`Pre-requisites`}</h2>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"../../../index.md#implement-extension-in-mobile-app\"\n      }}>{`Integrate and register Messaging extension`}</a>{` in your app.`}</p>\n    <h2 {...{\n      \"id\": \"sync-the-push-token\"\n    }}>{`Sync the push token`}</h2>\n    <p>{`To retrieve the push token from Firebase Messaging Service, please follow the tutorial within the `}<a parentName=\"p\" {...{\n        \"href\": \"https://firebase.google.com/docs/cloud-messaging/android/client#retrieve-the-current-registration-token\"\n      }}>{`Firebase documentation`}</a>{`. Then use `}<inlineCode parentName=\"p\">{`setPushIdentifier`}</inlineCode>{` API to sync the device's push token with profile in Adobe Experience Platform.`}</p>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Although this API is provided in Mobile Core, the use of this API is required and leveraged by the Adobe Journey Optimizer extension to sync provided push tokens with Adobe Experience Platform services.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class YourApp extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        FirebaseMessaging.getInstance().getToken().addOnCompleteListener(new OnCompleteListener<String>() {\n\n            @Override\n            public void onComplete(@NonNull Task<String> task) {\n                if (task.isSuccessful()) {\n                    String token = task.getResult();\n                    MobileCore.setPushIdentifier(token);\n                }       \n            }\n        });\n    }\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"display-and-track-push-notification\"\n    }}>{`Display and track push notification`}</h2>\n    <h3 {...{\n      \"id\": \"register-messaging-extensions-firebasemessagingservice\"\n    }}>{`Register Messaging extension's FirebaseMessagingService`}</h3>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`If your application already registered a `}<inlineCode parentName=\"p\">{`FirebaseMessagingService`}</inlineCode>{` class, then you can skip this step and move to the `}<a parentName=\"p\" {...{\n        \"href\": \"#using-your-own-firebasemessagingservice\"\n      }}>{`Using your own FirebaseMessagingService`}</a>{` section.`}</p>\n    <p>{`Messaging extension uses `}<inlineCode parentName=\"p\">{`MessagingService`}</inlineCode>{` to receive, display and track push notifications. To register the `}<inlineCode parentName=\"p\">{`MessagingService`}</inlineCode>{` add the following code to the `}<inlineCode parentName=\"p\">{`AndroidManifest.xml`}</inlineCode>{` file:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`        <service\n            android:name=\"com.adobe.marketing.mobile.messaging.MessagingService\"\n            android:exported=\"false\">\n            <intent-filter>\n                <action android:name=\"com.google.firebase.MESSAGING_EVENT\" />\n            </intent-filter>\n        </service>\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"using-your-own-firebasemessagingservice\"\n    }}>{`Using your own FirebaseMessagingService`}</h3>\n    <p>{`If your application already registered a `}<inlineCode parentName=\"p\">{`FirebaseMessagingService`}</inlineCode>{` class, then you can use the following API to display and track push notifications originated from Adobe Journey Optimizer.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class YourAppFirebaseMessagingService extends FirebaseMessagingService {\n    @Override\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n        if (MessagingService.handleRemoteMessage(this, message)) {\n            // Push notification originated from Adobe Journey Optimizer is handled by the Messaging extension.\n        } else {\n            // Handle push notification originated from other sources.\n        }       \n    }\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"notification-channel\"\n    }}>{`Notification channel`}</h2>\n    <p>{`Notification channels were introduced in Android Oreo (API level 26). They allow you to group notifications and allows users to customize the notification preferences for each channel.`}</p>\n    <p>{`You must create at least one notification channel to display push notifications on devices running Android Oreo or higher. Follow the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.android.com/develop/ui/views/notifications/channels\"\n      }}>{`Android documentation`}</a>{` to create and manage notification channels. Once a notification channel is created, you can use the channel ID while `}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/journey-optimizer/using/push/design-push.html\"\n      }}>{`designing the push notification`}</a>{` in Adobe Journey Optimizer.`}</p>\n    <p><strong parentName=\"p\">{`Default channel`}</strong>{`: If you do not create a notification channel, or if the notification channel specified while designing the push notification does not match with any of the created channels, the Messaging extension will present the push notification through its predefined fallback notification channel, which is named \"General Notifications.\"`}</p>\n    <h2 {...{\n      \"id\": \"configuring-small-icon\"\n    }}>{`Configuring small icon`}</h2>\n    <p>{`Use MobileCore's API to set the small icon resource ID. This icon will be used as the small icon for all the incoming push notification from Adobe Journey Optimizer.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`MobileCore.setSmallIconResourceId(R.drawable.ic_notification);\n`}</code></pre>\n    <p>{`When no custom small icon is specified, the Messaging extension will automatically utilize the application's launcher icon as the default small icon.`}</p>\n    <h2 {...{\n      \"id\": \"notification-actions\"\n    }}>{`Notification actions`}</h2>\n    <p>{`Messaging extension will automatically handle any click behaviour that is configured while `}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/journey-optimizer/using/push/design-push.html\"\n      }}>{`designing the push notification in Adobe Journey Optimizer`}</a>{` or Assurance.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}