"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[6395,6170],{3673:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return p},default:function(){return h}});var n=a(87462),d=a(63366),r=(a(15007),a(64983)),i=a(91515),m=a(47968),o=a(35142),l=["components"],p={},s=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",t)}},x=s("TabsBlock"),g=s("InlineAlert"),u=s("CodeBlock"),c={_frontmatter:p},f=i.Z;function h(e){var t=e.components,a=(0,d.Z)(e,l);return(0,r.mdx)(f,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"adobe-journey-optimizer-api-reference"},"Adobe Journey Optimizer API reference"),(0,r.mdx)("h2",{id:"extensionversion"},"extensionVersion"),(0,r.mdx)("p",null,"The extensionVersion API returns the library version."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(o.default,{query:"platform=android&api=extension-version",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(o.default,{query:"platform=ios&api=extension-version",mdxType:"Tabs"}),(0,r.mdx)("h2",{id:"registerextension"},"registerExtension"),(0,r.mdx)(m.default,{query:"platform=android-register-extension&componentClass=InlineNestedAlert",mdxType:"Alerts"}),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"1",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(o.default,{query:"platform=android&api=register-extension",mdxType:"Tabs"}),(0,r.mdx)("h2",{id:"handlenotificationresponse"},"handleNotificationResponse"),(0,r.mdx)("p",null,"The handleNotificationResponse function transmits the push notification interaction feedback."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(o.default,{query:"platform=android&api=handle-notification-response",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(o.default,{query:"platform=ios&api=handle-notification-response",mdxType:"Tabs"}),(0,r.mdx)("h2",{id:"addpushtrackingdetails"},"addPushTrackingDetails"),(0,r.mdx)("p",null,"The addPushTrackingDetails API is used to update a pending intent with important information, such as messageId and Customer Journey information."),(0,r.mdx)(g,{variant:"help",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"Calling this API is mandatory, so the pending intent can be used while tracking push notification interactions."),(0,r.mdx)(x,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,r.mdx)("p",null,"Android"),(0,r.mdx)(o.default,{query:"platform=android&api=add-push-tracking-details",mdxType:"Tabs"}),(0,r.mdx)("p",null,"iOS"),(0,r.mdx)(o.default,{query:"platform=iOS&api=add-push-tracking-details",mdxType:"Tabs"}),(0,r.mdx)("h2",{id:"refreshinappmessages"},"refreshInAppMessages"),(0,r.mdx)("p",null,"Calling refreshInAppMessages API will force the Messaging extension to get an updated definition of messages from the remote."),(0,r.mdx)(u,{slots:"heading, code",repeat:"4",languages:"Kotlin, Java, Swift, ObjC",mdxType:"CodeBlock"}),(0,r.mdx)("h4",{id:"android"},"Android"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-kotlin"},"Messaging.refreshInAppMessages()\n")),(0,r.mdx)("h4",{id:"android-1"},"Android"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-java"},"Messaging.refreshInAppMessages();\n")),(0,r.mdx)("h4",{id:"ios"},"iOS"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-swift"},"Messaging.refreshInAppMessages()\n")),(0,r.mdx)("h4",{id:"ios-1"},"iOS"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-objc"},"[AEPMobileMessaging refreshInAppMessages];\n")))}h.isMDXComponent=!0},35142:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return l},default:function(){return g}});var n,d=a(87462),r=a(63366),i=(a(15007),a(64983)),m=a(91515),o=["components"],l={},p=(n="Variant",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)}),s={_frontmatter:l},x=m.Z;function g(e){var t=e.components,a=(0,r.Z)(e,o);return(0,i.mdx)(x,(0,d.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)(p,{platform:"android",api:"extension-version",repeat:"8",mdxType:"Variant"}),(0,i.mdx)("h4",{id:"java"},"Java"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Syntax")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-java"},"public static String extensionVersion();\n")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Example")),(0,i.mdx)("h4",{id:"kotlin"},"Kotlin"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-kotlin"},"Messaging.extensionVersion()\n")),(0,i.mdx)("h4",{id:"java-1"},"Java"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-java"},"Messaging.extensionVersion();\n")),(0,i.mdx)(p,{platform:"ios",api:"extension-version",repeat:"10",mdxType:"Variant"}),(0,i.mdx)("h4",{id:"swift"},"Swift"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Syntax")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-swift"},"public static let extensionVersion\n")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Example")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-swift"},"Messaging.extensionVersion\n")),(0,i.mdx)("h4",{id:"objective-c"},"Objective-C"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Syntax")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-swift"},"public static let extensionVersion\n")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Example")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-objc"},"[AEPMobileMessaging extensionVersion];\n")),(0,i.mdx)(p,{platform:"android",api:"handle-notification-response",repeat:"4",mdxType:"Variant"}),(0,i.mdx)("h4",{id:"java-2"},"Java"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Syntax")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-java"},"public static void handleNotificationResponse(final Intent intent,\n                                         final boolean applicationOpened,\n                                         final String customActionId);\n")),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:"left"},(0,i.mdx)("strong",{parentName:"th"},"Parameter")),(0,i.mdx)("th",{parentName:"tr",align:"left"},(0,i.mdx)("strong",{parentName:"th"},"Type")),(0,i.mdx)("th",{parentName:"tr",align:"left"},(0,i.mdx)("strong",{parentName:"th"},"Description")))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"intent")),(0,i.mdx)("td",{parentName:"tr",align:"left"},"Intent"),(0,i.mdx)("td",{parentName:"tr",align:"left"},"The intent contains information related to the messageId and the data.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"applicationOpened")),(0,i.mdx)("td",{parentName:"tr",align:"left"},"Boolean"),(0,i.mdx)("td",{parentName:"tr",align:"left"},"Shows whether the application has been opened or not.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"actionId")),(0,i.mdx)("td",{parentName:"tr",align:"left"},"String"),(0,i.mdx)("td",{parentName:"tr",align:"left"},"The ID of the custom action.")))),(0,i.mdx)(p,{platform:"ios",api:"handle-notification-response",repeat:"7",mdxType:"Variant"}),(0,i.mdx)("h4",{id:"swift-1"},"Swift"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Syntax")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-swift"},"static func handleNotificationResponse(_ response: UNNotificationResponse,\n                                       urlHandler: ((URL) -> Bool)? = nil,\n                                          closure: ((PushTrackingStatus) -> Void)? = nil)\n")),(0,i.mdx)("h4",{id:"objective-c-1"},"Objective-C"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Syntax")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-objc"},"+ (void) handleNotificationResponse: (UNNotificationResponse *) response\n                         urlHandler: (BOOL (^)(NSURL *url)) handler \n                            closure: (void (^)(PushTrackingStatus status)) closure;\n")),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:"left"},(0,i.mdx)("strong",{parentName:"th"},"Parameter")),(0,i.mdx)("th",{parentName:"tr",align:"left"},(0,i.mdx)("strong",{parentName:"th"},"Type")),(0,i.mdx)("th",{parentName:"tr",align:"left"},(0,i.mdx)("strong",{parentName:"th"},"Description")))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"response")),(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"UNNotificationResponse")),(0,i.mdx)("td",{parentName:"tr",align:"left"},"An object containing information about the push notification details.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"urlHandler")),(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"((URL) -> Bool)?")),(0,i.mdx)("td",{parentName:"tr",align:"left"},"An optional method to handle the actionable URL from the push notification.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"closure")),(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"((PushTrackingStatus) -> Void)?")),(0,i.mdx)("td",{parentName:"tr",align:"left"},"An optional callback with ",(0,i.mdx)("inlineCode",{parentName:"td"},"PushTrackingStatus")," representing the tracking status of the interacted notification.")))),(0,i.mdx)(p,{platform:"android",api:"register-extension",repeat:"8",mdxType:"Variant"}),(0,i.mdx)("h4",{id:"java-3"},"Java"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Syntax")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-java"},"public static void registerExtension();\n")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Example")),(0,i.mdx)("h4",{id:"kotlin-1"},"Kotlin"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-kotlin"},"Messaging.registerExtension()\n")),(0,i.mdx)("h4",{id:"java-4"},"Java"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-java"},"Messaging.registerExtension();\n")),(0,i.mdx)(p,{platform:"android",api:"add-push-tracking-details",repeat:"5",mdxType:"Variant"}),(0,i.mdx)("h4",{id:"java-5"},"Java"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Syntax")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-java"},"public static boolean addPushTrackingDetails(final Intent intent,\n                                            final String messageId,\n                                            final Map<String, String> data)\n")),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:"left"},(0,i.mdx)("strong",{parentName:"th"},"Parameter")),(0,i.mdx)("th",{parentName:"tr",align:"left"},(0,i.mdx)("strong",{parentName:"th"},"Type")),(0,i.mdx)("th",{parentName:"tr",align:"left"},(0,i.mdx)("strong",{parentName:"th"},"Description")))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"intent")),(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"Intent")),(0,i.mdx)("td",{parentName:"tr",align:"left"},"The pending intent that needs to be updated so it can be used when the user interacts with the notification.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"messageId")),(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"String")),(0,i.mdx)("td",{parentName:"tr",align:"left"},"The message ID for the push notification.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"data")),(0,i.mdx)("td",{parentName:"tr",align:"left"},(0,i.mdx)("inlineCode",{parentName:"td"},"Map<String, String>")),(0,i.mdx)("td",{parentName:"tr",align:"left"},"The data of the remoteMessage.")))),(0,i.mdx)("p",null,"This API returns a boolean, indicating whether the intent was updated with necessary information (messageId and Customer Journey data)."),(0,i.mdx)(p,{platform:"iOS",api:"add-push-tracking-details",repeat:"1",mdxType:"Variant"}),(0,i.mdx)("p",null,"This API is not applicable for iOS."))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-edge-adobe-journey-optimizer-api-reference-md-f7795c32c42207dd0302.js.map