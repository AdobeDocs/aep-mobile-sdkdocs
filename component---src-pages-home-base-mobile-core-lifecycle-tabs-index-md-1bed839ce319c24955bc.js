"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[6044],{40008:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return c},default:function(){return x}});var i=a(87462),t=a(63366),o=(a(15007),a(64983)),l=a(91515),r=["components"],c={},p=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",n)}},d=p("Variant"),m=p("InlineNestedAlert"),s={_frontmatter:c},u=l.Z;function x(e){var n=e.components,a=(0,t.Z)(e,r);return(0,o.mdx)(u,(0,i.Z)({},s,a,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)(d,{platform:"android-kotlin",task:"add",repeat:"3",mdxType:"Variant"}),(0,o.mdx)("p",null,"Add the Lifecycle extension and its dependency, the ",(0,o.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/index.md"},"Mobile Core")," extension to your project using the app's Gradle file."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-kotlin"},'implementation(platform("com.adobe.marketing.mobile:sdk-bom:3.+"))\nimplementation("com.adobe.marketing.mobile:core")\nimplementation("com.adobe.marketing.mobile:lifecycle")\n')),(0,o.mdx)(m,{variant:"warning",header:"false",iconPosition:"left",mdxType:"InlineNestedAlert"},(0,o.mdx)("p",null,"Using dynamic dependency versions is ",(0,o.mdx)("strong",{parentName:"p"},"not")," recommended for production apps. Please read the ",(0,o.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/resources/manage-gradle-dependencies.md"},"managing Gradle dependencies guide")," for more information.")),(0,o.mdx)(d,{platform:"android-groovy",task:"add",repeat:"3",mdxType:"Variant"}),(0,o.mdx)("p",null,"Add the Lifecycle extension and its dependency, the ",(0,o.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/index.md"},"Mobile Core")," extension to your project using the app's Gradle file."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-java"},"implementation platform('com.adobe.marketing.mobile:sdk-bom:3.+')\nimplementation 'com.adobe.marketing.mobile:core'\nimplementation 'com.adobe.marketing.mobile:lifecycle'\n")),(0,o.mdx)(m,{variant:"warning",header:"false",iconPosition:"left",mdxType:"InlineNestedAlert"},(0,o.mdx)("p",null,"Using dynamic dependency versions is ",(0,o.mdx)("strong",{parentName:"p"},"not")," recommended for production apps. Please read the ",(0,o.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/resources/manage-gradle-dependencies.md"},"managing Gradle dependencies guide")," for more information.")),(0,o.mdx)(d,{platform:"ios-pods",task:"add",repeat:"3",mdxType:"Variant"}),(0,o.mdx)("p",null,"Add the AEPLifecycle extension and its dependency, ",(0,o.mdx)("a",{parentName:"p",href:"/aep-mobile-sdkdocs/src/pages/home/base/mobile-core/index.md"},"AEPCore")," extension, to your project using CocoaPods."),(0,o.mdx)("p",null,"Add the following pods in your ",(0,o.mdx)("inlineCode",{parentName:"p"},"Podfile"),":"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-pod"},"pod 'AEPCore', '~> 5.0'\npod 'AEPLifecycle', '~> 5.0'\n")),(0,o.mdx)(d,{platform:"android-kotlin",task:"register",repeat:"4",mdxType:"Variant"}),(0,o.mdx)("h4",{id:"kotlin"},"Kotlin"),(0,o.mdx)("p",null,"Register the Lifecycle extension in your app's ",(0,o.mdx)("inlineCode",{parentName:"p"},"Application")," class:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-kotlin"},"import com.adobe.marketing.mobile.MobileCore\nimport com.adobe.marketing.mobile.Lifecycle\n...\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-kotlin"},"class MobileApp : Application() {\n\noverride fun onCreate() {\n    super.onCreate()\n    MobileCore.setApplication(this);\n    val extensions = listOf(Lifecycle.EXTENSION, ...)\n    MobileCore.registerExtensions(extensions) {\n        // Any post registration processing\n    }\n  }\n}\n")),(0,o.mdx)(d,{platform:"android-java",task:"register",repeat:"4",mdxType:"Variant"}),(0,o.mdx)("h4",{id:"java"},"Java"),(0,o.mdx)("p",null,"Register the Lifecycle extension in your app's ",(0,o.mdx)("inlineCode",{parentName:"p"},"Application")," class:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-java"},"import com.adobe.marketing.mobile.MobileCore;\nimport com.adobe.marketing.mobile.Lifecycle;\n...\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-java"},"public class MobileApp extends Application {\n@Override\npublic void onCreate() {\n    super.onCreate();\n    MobileCore.setApplication(this);\n    List<Class<? extends Extension>> extensions = Arrays.asList(Lifecycle.EXTENSION, ...);\n    MobileCore.registerExtensions(extensions, o -> {\n        // Any post registration processing\n    });\n  }\n}\n")),(0,o.mdx)(d,{platform:"ios-swift",task:"register",repeat:"3",mdxType:"Variant"}),(0,o.mdx)("p",null,"Register the Lifecycle extension in the app delegate object's ",(0,o.mdx)("inlineCode",{parentName:"p"},"application(_:didFinishLaunchingWithOptions:)")," method:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-swift"},"import AEPCore\nimport AEPLifecycle\n...\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-swift"},"func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {\n    MobileCore.registerExtensions([Lifecycle.self, ...], {\n        // Any post registration processing\n    }\n}\n")),(0,o.mdx)(d,{platform:"ios-objc",task:"register",repeat:"3",mdxType:"Variant"}),(0,o.mdx)("p",null,"Register the Lifecycle extension in the app delegate object's ",(0,o.mdx)("inlineCode",{parentName:"p"},"application:didFinishLaunchingWithOptions:")," method:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-objectivec"},"@import AEPCore;\n@import AEPLifecycle;\n...\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-objectivec"},"- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n[AEPMobileCore registerExtensions:@[AEPMobileLifecycle.class, ...] completion:^{\n    // Any post registration processing\n}];\nreturn YES;\n}\n")),(0,o.mdx)(d,{platform:"android-java",task:"activity-start-pause",repeat:"5",mdxType:"Variant"}),(0,o.mdx)("h4",{id:"java-1"},"Java"),(0,o.mdx)("p",null,"Add the following to each Android Activity class."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-java"},"import com.adobe.marketing.mobile.MobileCore;\nimport com.adobe.marketing.mobile.Lifecycle;\n...\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-java"},"    @Override\n    public void onResume() {\n        MobileCore.setApplication(getApplication());\n        MobileCore.lifecycleStart(null);\n    }\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-java"},"    @Override\n    public void onPause() {\n        MobileCore.lifecyclePause();\n    }\n")),(0,o.mdx)(d,{platform:"android-kotlin",task:"activity-start-pause",repeat:"5",mdxType:"Variant"}),(0,o.mdx)("h4",{id:"kotlin-1"},"Kotlin"),(0,o.mdx)("p",null,"Add the following to each Android Activity class."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-kotlin"},"import com.adobe.marketing.mobile.MobileCore\nimport com.adobe.marketing.mobile.Lifecycle\n...\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-kotlin"},"    override fun onResume() {\n        MobileCore.setApplication(this.application)\n        MobileCore.lifecycleStart(null)\n    }\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-kotlin"},"    override fun onPause() {\n        MobileCore.lifecyclePause()\n    }\n")),(0,o.mdx)(d,{platform:"android-java",task:"context-data",repeat:"1",mdxType:"Variant"}),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-java"},'HashMap<String, Object> additionalContextData = new HashMap<String, Object>();\ncontextData.put("myapp.category", "Game");\nMobileCore.lifecycleStart(additionalContextData);\n')),(0,o.mdx)(d,{platform:"android-kotlin",task:"context-data",repeat:"1",mdxType:"Variant"}),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-kotlin"},'MobileCore.lifecycleStart(mapOf("myapp.category" to "Game"))\n')),(0,o.mdx)(d,{platform:"ios-swift",task:"context-data",repeat:"1",mdxType:"Variant"}),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-swift"},'MobileCore.lifecycleStart(additionalContextData: ["myapp.category": "Game"])\n')),(0,o.mdx)(d,{platform:"ios-objc",task:"context-data",repeat:"1",mdxType:"Variant"}),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-objectivec"},'[AEPMobileCore lifecycleStart:@{@"myapp.category": @"Game"}];      \n')),(0,o.mdx)(d,{platform:"android-java",task:"global-lifecycle",repeat:"1",mdxType:"Variant"}),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-java"},"import com.adobe.marketing.mobile.MobileCore;\nimport com.adobe.marketing.mobile.Lifecycle;\n\npublic class MobileApp extends Application {\n\n@Override\nprotected void onCreate() {\n    super.onCreate();\n\n    registerActivityLifecycleCallbacks(new ActivityLifecycleCallbacks() {\n        @Override\n        public void onActivityResumed(Activity activity) {\n            MobileCore.setApplication(activity.getApplication());\n            MobileCore.lifecycleStart(null);\n        }\n\n        @Override\n        public void onActivityPaused(Activity activity) {\n            MobileCore.lifecyclePause();\n        }\n\n        // the following methods aren't needed for our lifecycle purposes, but are\n        // required to be implemented by the ActivityLifecycleCallbacks object\n        @Override\n        public void onActivityCreated(Activity activity, Bundle savedInstanceState) {}\n        @Override\n        public void onActivityStarted(Activity activity) {}\n        @Override\n        public void onActivityStopped(Activity activity) {}\n        @Override\n        public void onActivitySaveInstanceState(Activity activity, Bundle outState) {}\n        @Override\n        public void onActivityDestroyed(Activity activity) {}\n    });\n\n    ...\n}\n ...\n}\n")),(0,o.mdx)(d,{platform:"android-kotlin",task:"global-lifecycle",repeat:"1",mdxType:"Variant"}),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-kotlin"},"import com.adobe.marketing.mobile.MobileCore\nimport com.adobe.marketing.mobile.Lifecycle\n\nclass MobileApp : Application() {\n\noverride fun onCreate() {\n    super.onCreate()\n\n    registerActivityLifecycleCallbacks(object: ActivityLifecycleCallbacks {\n        override fun onActivityResumed(activity: Activity) {\n            MobileCore.setApplication(activity.application)\n            MobileCore.lifecycleStart(null)\n        }\n\n        override fun onActivityPaused(activity: Activity) {\n            MobileCore.lifecyclePause()\n        }\n\n        // the following methods aren't needed for our lifecycle purposes, but are\n        // required to be implemented by the ActivityLifecycleCallbacks object\n        override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle?) {}\n        override fun onActivityStarted(activity: Activity) {}\n        override fun onActivityStopped(activity: Activity) {}\n        override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {}\n        override fun onActivityDestroyed(activity: Activity) {}\n    })\n\n    ...\n}\n ...\n}\n")),(0,o.mdx)(d,{platform:"ios-swift",task:"start-lifecycle-didfinishlaunch",repeat:"1",mdxType:"Variant"}),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-swift"},"func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {\n    let appState = application.applicationState\n    MobileCore.registerExtensions([Lifecycle.self, ...], {\n        if appState != .background {\n        // only start lifecycle if the application is not in the background\n        MobileCore.lifecycleStart(additionalContextData: nil)\n        }\n    }\n}\n")),(0,o.mdx)(d,{platform:"ios-objc",task:"start-lifecycle-didfinishlaunch",repeat:"1",mdxType:"Variant"}),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-objectivec"},"- (BOOL) application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    const UIApplicationState appState = application.applicationState;\n    [AEPMobileCore registerExtensions:@[AEPMobileLifecycle.class, ...] completion:^{\n    // only start lifecycle if the application is not in the background\n    if (appState != UIApplicationStateBackground) {\n        [AEPMobileCore lifecycleStart:nil];\n    }\n    }];\n}\n")),(0,o.mdx)(d,{platform:"ios-swift",task:"start-pause",repeat:"6",mdxType:"Variant"}),(0,o.mdx)("p",null,"In iOS 13 and later, for a scene-based application, use the ",(0,o.mdx)("inlineCode",{parentName:"p"},"UISceneDelegate")," as follows:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-swift"},"func sceneWillEnterForeground(_ scene: UIScene) {\n    MobileCore.lifecycleStart(additionalContextData: nil)\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-swift"},"func sceneDidEnterBackground(_ scene: UIScene) {\n    MobileCore.lifecyclePause()\n}\n")),(0,o.mdx)("p",null,"In iOS 12 and earlier, use the ",(0,o.mdx)("inlineCode",{parentName:"p"},"UIApplicationDelegate")," as follows:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-swift"},"func applicationWillEnterForeground(_ application: UIApplication) {\n    MobileCore.lifecycleStart(additionalContextData: nil)\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-swift"},"func applicationDidEnterBackground(_ application: UIApplication) {\n    MobileCore.lifecyclePause()\n}\n")),(0,o.mdx)(d,{platform:"ios-objc",task:"start-pause",repeat:"6",mdxType:"Variant"}),(0,o.mdx)("p",null,"In iOS 13 and later, for a scene-based application, use the ",(0,o.mdx)("inlineCode",{parentName:"p"},"UISceneDelegate")," as follows:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-objectivec"},"- (void) sceneWillEnterForeground:(UIScene *)scene {\n    [AEPMobileCore lifecycleStart:nil];\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-objectivec"},"- (void) sceneDidEnterBackground:(UIScene *)scene {\n    [AEPMobileCore lifecyclePause];\n}\n")),(0,o.mdx)("p",null,"In iOS 12 and earlier, use the ",(0,o.mdx)("inlineCode",{parentName:"p"},"UIApplicationDelegate")," as follows:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-objectivec"},"- (void) applicationWillEnterForeground:(UIApplication *)application {\n    [AEPMobileCore lifecycleStart:nil];\n}\n")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-objectivec"},"- (void) applicationDidEnterBackground:(UIApplication *)application {\n    [AEPMobileCore lifecyclePause];\n}\n")))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-home-base-mobile-core-lifecycle-tabs-index-md-1bed839ce319c24955bc.js.map