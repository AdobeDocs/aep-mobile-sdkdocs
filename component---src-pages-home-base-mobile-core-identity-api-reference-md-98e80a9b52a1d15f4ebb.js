"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[5716],{50626:function(e,i,t){t.r(i),t.d(i,{_frontmatter:function(){return l},default:function(){return c}});var n=t(87462),a=t(63366),d=(t(15007),t(64983)),r=t(91515),s=t(58463),o=["components"],l={},m=function(e){return function(i){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",i)}},p=m("TabsBlock"),u=m("InlineAlert"),x={_frontmatter:l},h=r.Z;function c(e){var i=e.components,t=(0,a.Z)(e,o);return(0,d.mdx)(h,(0,n.Z)({},x,t,{components:i,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"identity-api-reference"},"Identity API reference"),(0,d.mdx)("h2",{id:"appendtourl--appendvisitorinfoforurl"},"appendToURL / appendVisitorInfoForURL"),(0,d.mdx)("p",null,"This API appends Adobe visitor information to the query component of the specified URL."),(0,d.mdx)("p",null,"If the provided URL is null or empty, it is returned as is. Otherwise, the following information is added to the query component of the specified URL and is returned in the callback function:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"The ",(0,d.mdx)("inlineCode",{parentName:"li"},"adobe_mc")," attribute is a URL encoded list that contains:",(0,d.mdx)("ul",{parentName:"li"},(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"MCMID")," - Experience Cloud ID (ECID)"),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"MCORGID")," - Experience Cloud Org ID"),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"MCAID")," - Analytics Tracking ID (AID), if available from the ",(0,d.mdx)("a",{parentName:"li",href:"../../../solution/adobe-analytics/api-reference.md#gettrackingidentifier"},"Analytics extension")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"TS")," - A timestamp taken when this request was made"))),(0,d.mdx)("li",{parentName:"ul"},"The optional ",(0,d.mdx)("inlineCode",{parentName:"li"},"adobe_aa_vid")," attribute is the URL-encoded Analytics Custom Visitor ID (VID), if previously set in the ",(0,d.mdx)("a",{parentName:"li",href:"../../../solution/adobe-analytics/api-reference.md#setvisitoridentifier"},"Analytics extension"),".")),(0,d.mdx)("p",null,"This API is designed to handle the following URL formats:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-text"},"scheme://authority/path?query=param#fragment\n")),(0,d.mdx)("p",null,"In this example, the Adobe visitor data is appended as:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-text"},"scheme://authority/path?query=param&adobe_mc=TS%3Dtimestamp%7CMCMID%3Decid%7CMCORGID%3Decorgid%40AdobeOrg#fragment\n")),(0,d.mdx)("p",null,"Similarly, URLs without a query component:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-text"},"scheme://authority/path#fragment\n")),(0,d.mdx)("p",null,"The Adobe visitor data is appended as:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-text"},"scheme://authority/path?adobe_mc=TS%3Dtimestamp%7CMCMID%3Decid%7CMCORGID%3Decorgid%40AdobeOrg#fragment\n")),(0,d.mdx)("p",null,"In these examples the ",(0,d.mdx)("inlineCode",{parentName:"p"},"adobe_mc"),' parameters are separated by "|" (pipe) and are encoded.'),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-text"},"adobe_mc = TS=XXXXXX|MCMID=XXXXXX|MCAID=XXXXXX|MCORGID=XXXXXX@AdobeOrg\n")),(0,d.mdx)("p",null,"If your application uses more complicated URLs, such as Angular URLs, you should use ",(0,d.mdx)("a",{parentName:"p",href:"#geturlvariables"},"getUrlVariables"),"."),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=append-to-url",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(s.default,{query:"platform=ios&api=append-to-url",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"extensionversion"},"extensionVersion"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"extensionVersion()")," API returns the version of the Identity extension that is registered with the Mobile Core extension."),(0,d.mdx)("p",null,"To get the version of the Identity extension, use the following code sample:"),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=extension-version",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(s.default,{query:"platform=ios&api=extension-version",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"getexperiencecloudid"},"getExperienceCloudId"),(0,d.mdx)("p",null,"This API retrieves the Adobe Experience Cloud ID (ECID) that was generated when the app was initially launched and is stored in the Adobe Experience Cloud Identity Service."),(0,d.mdx)("p",null,"This ID is preserved between app upgrades, is saved and restored during the standard application backup process, and is removed at uninstall."),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=get-experience-cloud-id",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(s.default,{query:"platform=ios&api=get-experience-cloud-id",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"getidentifiers"},"getIdentifiers"),(0,d.mdx)("p",null,"This API returns all customer identifiers that were previously synced with the Adobe Experience Cloud Identity Service."),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=get-identifiers",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(s.default,{query:"platform=ios&api=get-identifiers",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"geturlvariables"},"getUrlVariables"),(0,d.mdx)("p",null,"This API gets the Adobe Experience Cloud Identity Service variables in URL query parameter form, and these variables will be consumed by the hybrid app. This method returns an appropriately formed string that contains the Experience Cloud Identity Service URL variables. There will be no leading (&) or (?) punctuation because the caller is responsible for placing the variables in their resulting URL in the correct location."),(0,d.mdx)("p",null,"If an error occurs while retrieving the URL string, the callback handler will be called with a null value. Otherwise, the following information is added to the string that is returned in the callback:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"The ",(0,d.mdx)("inlineCode",{parentName:"li"},"adobe_mc")," attribute is an URL encoded list that contains:",(0,d.mdx)("ul",{parentName:"li"},(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"MCMID")," - Experience Cloud ID (ECID)"),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"MCORGID")," - Experience Cloud Org ID"),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"MCAID")," - Analytics Tracking ID (AID), if available from the ",(0,d.mdx)("a",{parentName:"li",href:"../../../solution/adobe-analytics/index.md"},"Analytics extension")),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"TS")," - A timestamp taken when this request was made"))),(0,d.mdx)("li",{parentName:"ul"},"The optional ",(0,d.mdx)("inlineCode",{parentName:"li"},"adobe_aa_vid")," attribute is the URL-encoded Analytics Custom Visitor ID (VID), if previously set in the ",(0,d.mdx)("a",{parentName:"li",href:"../../../solution/adobe-analytics/index.md"},"Analytics extension"),".")),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=get-url-variables",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(s.default,{query:"platform=ios&api=get-url-variables",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"registerextension"},"registerExtension"),(0,d.mdx)(u,{variant:"warning",slots:"header, text1",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"This API has been deprecated starting in v2.0.0 and removed in v3.0.0 of the Android mobile extension."),(0,d.mdx)("p",null,"Use ",(0,d.mdx)("a",{parentName:"p",href:"../api-reference.md#registerextensions"},(0,d.mdx)("inlineCode",{parentName:"a"},"MobileCore.registerExtensions()"))," API instead."),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"registerExtension()")," API registers the Identity extension with the Mobile Core extension. This API allows the extension to send and receive events to and from the Mobile SDK."),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"1",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=register-extension",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"resetidentities"},"resetIdentities"),(0,d.mdx)("p",null,"Clears all identities stored in the Identity extension and generates a new Experience Cloud ID (ECID). Using this API does not remove the identifiers from the server-side service."),(0,d.mdx)("p",null,"This is a destructive action, since once an ECID is removed it cannot be reused. The new ECID generated by this API can increase metrics like unique visitors when a new user profile is created."),(0,d.mdx)("p",null,"Some example use cases for this API are:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"During debugging, to see how new ECIDs (and other identifiers paired with it) behave with existing rules and metrics."),(0,d.mdx)("li",{parentName:"ul"},"A last-resort reset for when an ECID should no longer be used.")),(0,d.mdx)("p",null,"This API is ",(0,d.mdx)("strong",{parentName:"p"},"not")," recommended for:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"Resetting a user's privacy settings; see ",(0,d.mdx)("a",{parentName:"li",href:"../../../resources/privacy-and-gdpr.md"},"Privacy and GDPR"),"."),(0,d.mdx)("li",{parentName:"ul"},"Removing existing custom identifiers; use the ",(0,d.mdx)("a",{parentName:"li",href:"#syncidentifier"},(0,d.mdx)("inlineCode",{parentName:"a"},"syncIdentifier"))," API instead."),(0,d.mdx)("li",{parentName:"ul"},"Removing a previously synced advertising identifier after the advertising tracking settings were changed by the user; use the ",(0,d.mdx)("a",{parentName:"li",href:"#setadvertisingidentifier"},(0,d.mdx)("inlineCode",{parentName:"a"},"setAdvertisingIdentifier"))," API instead.")),(0,d.mdx)("p",null,"See ",(0,d.mdx)("a",{parentName:"p",href:"../api-reference.md#resetidentities"},(0,d.mdx)("inlineCode",{parentName:"a"},"MobileCore.resetIdentities"))," for more details."),(0,d.mdx)("h2",{id:"setadvertisingidentifier"},"setAdvertisingIdentifier"),(0,d.mdx)("p",null,"The advertising ID is preserved between app upgrades, is saved and restored during the standard application backup process, available via the ",(0,d.mdx)("a",{parentName:"p",href:"../signal/index.md"},"Signals")," extension, and is removed at uninstall."),(0,d.mdx)(u,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"If the current SDK privacy status is ",(0,d.mdx)("inlineCode",{parentName:"p"},"optedout"),", the advertising identifier is not set or stored."),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=set-advertising-identifier",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(s.default,{query:"platform=ios&api=set-advertising-identifier",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"setpushidentifier"},"setPushIdentifier"),(0,d.mdx)("p",null,"This API sets the device token for push notifications in the SDK. If the current SDK privacy status is ",(0,d.mdx)("inlineCode",{parentName:"p"},"optedout"),", the push identifier is not set."),(0,d.mdx)(u,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"You should call ",(0,d.mdx)("inlineCode",{parentName:"p"},"setPushIdentifier")," on each application launch to ensure the most up-to-date device token is set to the SDK. If no device token is available, ",(0,d.mdx)("inlineCode",{parentName:"p"},"null"),"/",(0,d.mdx)("inlineCode",{parentName:"p"},"nil")," should be passed."),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=set-push-identifier",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(s.default,{query:"platform=ios&api=set-push-identifier",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"syncidentifier"},"syncIdentifier"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"syncIdentifier()")," and ",(0,d.mdx)("inlineCode",{parentName:"p"},"syncIdentifiers()")," APIs update the specified customer IDs with the Adobe Experience Cloud Identity Service."),(0,d.mdx)("p",null,"These APIs synchronize the provided customer identifier type key and value with the authentication state to the Experience Cloud Identity Service. If the specified customer ID type exists in the service, this ID type is updated with the new ID and the authentication state. Otherwise, a new customer ID is added."),(0,d.mdx)("p",null,"Starting with ",(0,d.mdx)("em",{parentName:"p"},"ACPIdentity v2.1.3 (iOS)")," and ",(0,d.mdx)("em",{parentName:"p"},"Identity v1.1.2 (Android)")," if the new ",(0,d.mdx)("inlineCode",{parentName:"p"},"identifier")," value is null or empty, this ID type is removed from the local storage, Identity shared state and not synced with the Experience Cloud Identity Service."),(0,d.mdx)("p",null,"These IDs are preserved between app upgrades, are saved and restored during the standard application backup process, and are removed at uninstall."),(0,d.mdx)("p",null,"If the current SDK privacy status is ",(0,d.mdx)("inlineCode",{parentName:"p"},"MobilePrivacyStatus.OPT_OUT"),", calling this method results in no operations being performed."),(0,d.mdx)("p",null,"This API updates or appends the provided customer identifier type key and value with the given authentication state to the Experience Cloud Identity Service. If the specified customer ID type exists in the service, the ID is updated with the new ID and authentication state. Otherwise a new customer ID is added."),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=sync-identifier",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(s.default,{query:"platform=ios&api=sync-identifier",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"syncidentifiers"},"syncIdentifiers"),(0,d.mdx)("p",null,"This API is an overloaded version, which does not include the parameter for the authentication state and it assumes a default value of ",(0,d.mdx)("inlineCode",{parentName:"p"},"VisitorID.AuthenticationState.UNKNOWN"),"."),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=sync-identifiers",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(s.default,{query:"platform=ios&api=sync-identifiers",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"syncidentifiers-overloaded"},"syncIdentifiers (overloaded)"),(0,d.mdx)("p",null,"The function of this API is the same as the ",(0,d.mdx)("inlineCode",{parentName:"p"},"syncIdentifier")," API. This API passes a list of identifiers, and each identifier contains an ",(0,d.mdx)("inlineCode",{parentName:"p"},"identifier type")," as the key and an ",(0,d.mdx)("inlineCode",{parentName:"p"},"identifier")," as the value. In each identifier pair, if the ",(0,d.mdx)("inlineCode",{parentName:"p"},"identifier type")," contains a null or an empty string, the identifier is ignored by the Identity extension."),(0,d.mdx)("p",null,"Starting with ",(0,d.mdx)("em",{parentName:"p"},"ACPIdentity v2.1.3 (iOS)")," and ",(0,d.mdx)("em",{parentName:"p"},"Identity v1.1.2 (Android)")," if the new ",(0,d.mdx)("inlineCode",{parentName:"p"},"identifier")," value is null or empty, this ID type is removed from the local storage, Identity shared state and not synced with the Adobe Experience Cloud Identity Service."),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=sync-identifiers-overloaded",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(s.default,{query:"platform=ios&api=sync-identifiers-overloaded",mdxType:"Tabs"}),(0,d.mdx)("h2",{id:"public-classes"},"Public classes"),(0,d.mdx)(p,{orientation:"horizontal",slots:"heading, content",repeat:"2",mdxType:"TabsBlock"}),(0,d.mdx)("p",null,"Android"),(0,d.mdx)(s.default,{query:"platform=android&api=public-classes",mdxType:"Tabs"}),(0,d.mdx)("p",null,"iOS"),(0,d.mdx)(s.default,{query:"platform=ios&api=public-classes",mdxType:"Tabs"}))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-home-base-mobile-core-identity-api-reference-md-98e80a9b52a1d15f4ebb.js.map