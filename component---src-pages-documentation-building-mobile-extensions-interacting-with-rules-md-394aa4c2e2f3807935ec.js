"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[2227],{94713:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return r},default:function(){return u}});var a=t(87462),s=t(63366),o=(t(15007),t(64983)),i=t(91515),d=["components"],r={},m={_frontmatter:r},p=i.Z;function u(e){var n=e.components,t=(0,s.Z)(e,d);return(0,o.mdx)(p,(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"interacting-with-rules"},"Interacting with rules"),(0,o.mdx)("p",null,"Rules are defined in the Data Collection UI interface and can include data elements, events, conditions, and actions provided by extensions."),(0,o.mdx)("h2",{id:"publishing-rules-support-for-tags"},"Publishing rules support for tags"),(0,o.mdx)("p",null,"Your extension should publish the rules support that it provides to tag libraries. You can provide this support through the ",(0,o.mdx)("inlineCode",{parentName:"p"},"extension.json")," file in your extensions base directory."),(0,o.mdx)("h3",{id:"publishing-supported-data-elements"},"Publishing supported data elements"),(0,o.mdx)("p",null,"Data elements can be supported by publishing the shared state keys that you want to use in a rule. For more information, see the tags documentation on ",(0,o.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/experience-platform/tags/extension-dev/web/data-element-types.html"},"data element types"),"."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'  "dataElements": [\n    {\n      "displayName": "My Custom Value",\n      "name": "customValue",\n      "schema": {\n        "$schema": "http://json-schema.org/draft-04/schema#",\n        "type": "object",\n        "allOf": [{\n          "$ref": "https://assets.adobedtm.com/activation/reactor/schemas/1.0/extension-definitions-mobile.json#/definitions/dataElement"\n        }]\n      },\n    }\n  ]\n')),(0,o.mdx)("h3",{id:"publishing-supported-conditions"},"Publishing supported conditions"),(0,o.mdx)("p",null,"Conditions can be supported by publishing the shared state keys or events that you want to use in a rule. For more information, see the tags documentation on ",(0,o.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/experience-platform/tags/extension-dev/web/condition-types.html"},"condition types"),"."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'    "events":[\n    {\n      "displayName": "My Custom Event",\n      "name": "triggerEvent",\n      "schema": {\n        "$schema": "http://json-schema.org/draft-04/schema#",\n        "type": "object",\n        "allOf": [{\n          "$ref": "https://assets.adobedtm.com/activation/reactor/schemas/1.0/extension-definitions-mobile.json#/definitions/events"\n        }]\n      }\n    }],\n    "conditions":[\n    {\n      "displayName": "My Custom Condition",\n      "name": "triggerCondition",\n      "schema": {\n        "$schema": "http://json-schema.org/draft-04/schema#",\n        "type": "object",\n        "allOf": [{\n          "$ref": "https://assets.adobedtm.com/activation/reactor/schemas/1.0/extension-definitions-mobile.json#/definitions/conditions"\n        }]\n      }\n    }]\n')),(0,o.mdx)("h3",{id:"publishing-supported-actions"},"Publishing supported actions"),(0,o.mdx)("p",null,"Conditions can be supported by publishing the events that you want to use in a rule. For more information, see the tags documentation on ",(0,o.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/experience-platform/tags/extension-dev/web/action-types.html"},"action types"),"."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'    "actions": [\n    {\n      "displayName": "My Custom Action",\n      "name": "com.myCompany.eventType.doSomeWork",\n      "schema": {\n        "$schema": "http://json-schema.org/draft-04/schema#",\n        "type": "object",\n        "properties": {},\n        "allOf": [{\n          "$ref": "https://assets.adobedtm.com/activation/reactor/schemas/1.0/extension-definitions-mobile.json#/definitions/consequence"\n        }]\n      },\n    }]\n')),(0,o.mdx)("h2",{id:"supporting-rules-at-runtime"},"Supporting rules at runtime"),(0,o.mdx)("p",null,"You should provide support for the events, actions, and conditions that you published at runtime."),(0,o.mdx)("h3",{id:"publishing-a-shared-state-condition-at-runtime"},"Publishing a shared state ",(0,o.mdx)("inlineCode",{parentName:"h3"},"condition")," at runtime"),(0,o.mdx)("p",null,"A shared state that was published by your extension can be used as a ",(0,o.mdx)("inlineCode",{parentName:"p"},"condition")," when configuring tag rules. To learn how you can publish a shared state, see the ",(0,o.mdx)("a",{parentName:"p",href:"./shared-states-and-events#updating-the-shared-state.md"},"updating the shared state document"),"."),(0,o.mdx)("h3",{id:"dispatching-an-event-condition-at-runtime"},"Dispatching an event ",(0,o.mdx)("inlineCode",{parentName:"h3"},"condition")," at runtime"),(0,o.mdx)("p",null,"An event that was dispatched by your extension can be used as a ",(0,o.mdx)("inlineCode",{parentName:"p"},"condition")," when configuring tag rules. To learn how you can dispatch an event, see the ",(0,o.mdx)("a",{parentName:"p",href:"./dispatching-events.md"},"dispatching events from your extension document"),"."),(0,o.mdx)("h3",{id:"handling-an-event-action-at-runtime"},"Handling an event ",(0,o.mdx)("inlineCode",{parentName:"h3"},"action")," at runtime"),(0,o.mdx)("p",null,"For an event that your extension registered, a listener for can be used as an ",(0,o.mdx)("inlineCode",{parentName:"p"},"action")," when configuring tag rules. To learn how you can register a listener for your events, see the ",(0,o.mdx)("a",{parentName:"p",href:"./listening-for-events.md"},"listening for events document"),"."))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-documentation-building-mobile-extensions-interacting-with-rules-md-394aa4c2e2f3807935ec.js.map